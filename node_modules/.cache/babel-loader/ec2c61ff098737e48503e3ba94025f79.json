{"ast":null,"code":"import _objectSpread from\"/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{Overlay,Popover}from'react-bootstrap';import'./Clock.css';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Clock=function Clock(_ref){var regionName=_ref.regionName,cityName=_ref.cityName,utcoffset=_ref.utcoffset,openHoursOne=_ref.openHoursOne,openHoursTwo=_ref.openHoursTwo;var date=new Date();var localUTC=date.getTimezoneOffset();var utcDiff=Math.abs(localUTC/60)-utcoffset/60;var breakStatus=false;var opHoursOne=false;var opHoursTwo=false;var initialState={secondRatio:0,minuteRatio:0,hourRatio:0};var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),clockState=_useState2[0],setClockState=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),time=_useState4[0],setTime=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),dayTimeStr=_useState6[0],setDayTimeStr=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),hoursClosedFriday=_useState8[0],setHoursClosedFriday=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),hoursOpen=_useState10[0],setHoursOpen=_useState10[1];//for bs popup \nvar _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),show=_useState12[0],setShow=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),target=_useState14[0],setTarget=_useState14[1];var ref=useRef(null);var handleClick=function handleClick(event){setShow(!show);setTarget(event.target);};var calculateUniversalUTC=function calculateUniversalUTC(){//returns local date from where the app is used \nvar date=new Date();//console.log(date); \n//offcet taken at the place where app is used \nvar app_utc_offcet=date.getTimezoneOffset();//returns -480 \n//this is the abstract date according to UTC\ndate.setHours(date.getHours()+app_utc_offcet/60);//console.log('ABSTRACT TIME', date); \nreturn date;};var calculateCurrentLocalDate=function calculateCurrentLocalDate(){var utcdate=calculateUniversalUTC();//console.log(\"UTCDATE\" + utcdate); \n//calculate time according to offcet of the country\nutcdate.setHours(utcdate.getHours()+utcoffset/60);//console.log('SHANGHAI TIME', utcdate); \nreturn utcdate;};var formatDate=function formatDate(date){var d=new Date(date);var month=''+(d.getMonth()+1);var day=''+d.getDate();var year=d.getFullYear();if(month.length<2)month='0'+month;if(day.length<2)day='0'+day;return[year,month,day].join('-');};var checkSingleDigit=function checkSingleDigit(time){if(String(+time).charAt(0)==time){time='0'+time;}return time;};var digitalClockConverter=function digitalClockConverter(date){//getting day of the week \nvar days=['Sun','Mon','Tue','Wed','Thur','Fri','Sat'];var dayNum=Number(date.getDay());var stsDay=days[dayNum];//getting hours in am/pm \nvar hours=date.getHours();var minutes=date.getMinutes();var ampm=hours>=12?'PM':'AM';hours=hours%12;hours=hours?hours:12;minutes=minutes<10?'0'+minutes:minutes;var strTime=hours+':'+minutes+' '+ampm;var timeStr=stsDay+' '+strTime;setDayTimeStr(function(dayTimeStr){return timeStr;});};var clockStateHandler=function clockStateHandler(date){var secondRatio=date.getSeconds()/60;var minuteRatio=(secondRatio+date.getMinutes())/60;var hourRatio=(minuteRatio+date.getHours())/12;setClockState(_objectSpread(_objectSpread({},clockState),{},{secondRate:secondRatio,minuteRate:minuteRatio,hourRate:hourRatio}));};var clockHandler=function clockHandler(){var currentDate=calculateCurrentLocalDate();clockStateHandler(currentDate);digitalClockConverter(currentDate);};var calculateLocalTime=function calculateLocalTime(openHours){var hoursFrom=Number(openHours.split('-')[0].slice(0,2))+utcDiff;var hoursTo=Number(openHours.split('-')[1].slice(0,2))+utcDiff;if(hoursTo>24){hoursTo=hoursTo%24;}checkSingleDigit(hoursFrom);checkSingleDigit(hoursTo);return{hoursFrom:hoursFrom,hoursTo:hoursTo};};var calculateRemainingTime=function calculateRemainingTime(endtime){var hourWithDiff=new Date().getHours()-utcDiff;var date=new Date();//let dateInCountry = ''; \n//check if day in appRegion is the same as date in country\n// if(date.getDate() === calculateCurrentLocalDate().getDate() ){\n//     dateInCountry = `${date.toDateString()} ${Math.abs(hourWithDiff)}:${date.getMinutes()}:${date.getSeconds()}`; \n// } else { \n//     dateInCountry = `${calculateCurrentLocalDate().toDateString()} ${calculateCurrentLocalDate().getHours()}:${date.getMinutes()}:${date.getSeconds()}`;  \n// }\nvar dateInCountry=\"\".concat(calculateCurrentLocalDate().toDateString(),\" \").concat(calculateCurrentLocalDate().getHours(),\":\").concat(date.getMinutes(),\":\").concat(date.getSeconds());//let dateInCountry = `${date.toDateString()} ${Math.abs(hourWithDiff)}:${date.getMinutes()}:${date.getSeconds()}`; \n//console.log(dateInCountry); \n//console.log(endtime); \nvar total=Date.parse(endtime)-Date.parse(dateInCountry);var seconds=Math.floor(total/1000%60);var minutes=Math.floor(total/1000/60%60);var hours=Math.floor(total/(1000*60*60)%24);var days=Math.floor(total/(1000*60*60*24));return[days,checkSingleDigit(hours),checkSingleDigit(minutes),checkSingleDigit(seconds)];};var calculateUntilClose=function calculateUntilClose(){var endtime='';//dublication \nvar month=new Date().getUTCMonth();var day=new Date().getUTCDate();var year=new Date().getUTCFullYear();if(checkVal(openHoursTwo)){if(opHoursTwo){var hTo=\"\".concat(openHoursTwo.split('-')[1].slice(0,2));endtime=new Date(year,month,day,hTo.slice(0,2),0,0,0);var _calculateRemainingTi=calculateRemainingTime(endtime),_calculateRemainingTi2=_slicedToArray(_calculateRemainingTi,4),ds=_calculateRemainingTi2[0],hs=_calculateRemainingTi2[1],ms=_calculateRemainingTi2[2],ss=_calculateRemainingTi2[3];return\"\".concat(hs,\":\").concat(ms,\":\").concat(ss);}else{endtime=new Date(year,month,day,openHoursOne.split('-')[1].slice(0,2),openHoursOne.split('-')[1].slice(3,5),0);var _calculateRemainingTi3=calculateRemainingTime(endtime),_calculateRemainingTi4=_slicedToArray(_calculateRemainingTi3,4),_ds=_calculateRemainingTi4[0],_hs=_calculateRemainingTi4[1],_ms=_calculateRemainingTi4[2],_ss=_calculateRemainingTi4[3];return\"\".concat(_hs,\":\").concat(_ms,\":\").concat(_ss);}}else{endtime=new Date(year,month,day,openHoursOne.split('-')[1].slice(0,2),openHoursOne.split('-')[1].slice(3,5),0);var _calculateRemainingTi5=calculateRemainingTime(endtime),_calculateRemainingTi6=_slicedToArray(_calculateRemainingTi5,4),_ds2=_calculateRemainingTi6[0],_hs2=_calculateRemainingTi6[1],_ms2=_calculateRemainingTi6[2],_ss2=_calculateRemainingTi6[3];return\"\".concat(_hs2,\":\").concat(_ms2,\":\").concat(_ss2);}};var calculateUntilOpen=function calculateUntilOpen(){var endtime=new Date();//dublicates \nvar month=endtime.getUTCMonth();var day=endtime.getUTCDate();var year=endtime.getUTCFullYear();var hFrom=\"\".concat(openHoursOne.split('-')[0]);var seconds=Math.floor(endtime/1000%60);var minutes=Math.floor(endtime/1000/60%60);var hours=Math.floor(endtime/(1000*60*60)%24);var days=Math.floor(endtime/(1000*60*60*24));endtime=new Date(year,month,day,hFrom.slice(0,2),0,0,0);//on Friday when it's closed already, we add + 2 days to get to Monday (get endtime)\nif(hoursClosedFriday){var numberOfDaysToAdd=3;endtime.setDate(endtime.getDate()+numberOfDaysToAdd);}else if(endtime.getDay()==6){//check if Saturday \nvar _numberOfDaysToAdd=2;endtime.setDate(endtime.getDate()+_numberOfDaysToAdd);}else if(endtime.getDay()==0){var _numberOfDaysToAdd2=1;endtime.setDate(endtime.getDate()+_numberOfDaysToAdd2);}else{endtime.setDate(endtime.getDate());}endtime=\"\".concat(endtime.toDateString(),\" \").concat(Number(openHoursOne.split('-')[0].slice(0,2))).concat(openHoursOne.split('-')[0].slice(2,5),\":00\");var _calculateRemainingTi7=calculateRemainingTime(endtime),_calculateRemainingTi8=_slicedToArray(_calculateRemainingTi7,4),ds=_calculateRemainingTi8[0],hs=_calculateRemainingTi8[1],ms=_calculateRemainingTi8[2],ss=_calculateRemainingTi8[3];//avoid -1 day \nif(ds===-1){var endtim=new Date();var _day=endtim.getUTCDate()+1;endtim=new Date(year,month,_day,hFrom.slice(0,2),0,0,0);endtim=\"\".concat(endtim.toDateString(),\" \").concat(Number(openHoursOne.split('-')[0].slice(0,2))).concat(openHoursOne.split('-')[0].slice(2,5),\":00\");var _calculateRemainingTi9=calculateRemainingTime(endtim),_calculateRemainingTi10=_slicedToArray(_calculateRemainingTi9,4),_ds3=_calculateRemainingTi10[0],_hs3=_calculateRemainingTi10[1],_ms3=_calculateRemainingTi10[2],_ss3=_calculateRemainingTi10[3];return\"\".concat(_ds3,\"d \").concat(_hs3,\":\").concat(_ms3,\":\").concat(_ss3);}return\"\".concat(ds,\"d \").concat(hs,\":\").concat(ms,\":\").concat(ss);};var calculateInBreak=function calculateInBreak(){if(checkVal(openHoursTwo)){var timeNow=calculateCurrentLocalDate();var hoursOneTo=calculateLocalTime(openHoursOne)['hoursTo'];var hoursTwoFrom=calculateLocalTime(openHoursTwo)['hoursFrom'];var timeString=\"\".concat(timeNow.getHours(),\":\").concat(timeNow.getMinutes());var buttonStatus='';buttonStatus=timeString<\"\".concat(hoursTwoFrom,\":00\")&&timeString>\"\".concat(hoursOneTo,\":00\")?true:false;return buttonStatus;}return 0;};var calculateUntilReopen=function calculateUntilReopen(){//get timeNow and endTime \nvar timeNow=calculateCurrentLocalDate();var hoursTwoFrom=calculateLocalTime(openHoursTwo)['hoursFrom'];//create proper date objects for difference \nvar month=timeNow.getUTCMonth()+1;var day=timeNow.getUTCDate();var year=timeNow.getUTCFullYear();var hoursOneTo=new Date(year,month,day,hoursTwoFrom,0,0,0);var diff=hoursOneTo-timeNow;//dublicate\nvar seconds=Math.floor(diff/1000%60);var minutes=Math.floor(diff/1000/60%60);var hours=Math.floor(diff/(1000*60*60)%24);return\"\".concat(checkSingleDigit(hours),\":\").concat(checkSingleDigit(minutes),\":\").concat(checkSingleDigit(seconds));};var handleOpenButton=function handleOpenButton(){//get current local time\nvar currentLocalTime=calculateCurrentLocalDate();//console.log(currentLocalTime); \nvar formattedDate=formatDate(currentLocalTime);//const timeNow = new Date(); \nvar startTime=openHoursOne.split('-')[0];var endTime=openHoursOne.split('-')[1];var startTimeTwo,endTimeTwo,startTimeObjTwo,endTimeObjTwo;if(checkVal(openHoursTwo)){startTimeTwo=openHoursTwo.split('-')[0];endTimeTwo=openHoursTwo.split('-')[1];startTimeObjTwo=new Date(\"\".concat(formattedDate,\" \").concat(startTimeTwo));endTimeObjTwo=new Date(\"\".concat(formattedDate,\" \").concat(endTimeTwo));}var startTimeObj=new Date(\"\".concat(formattedDate,\" \").concat(startTime));var endTimeObj=new Date(\"\".concat(formattedDate,\" \").concat(endTime));var open='';//check if it's Saturday or Sunday \nif(currentLocalTime.getDay()==6||currentLocalTime.getDay()==0){open=/*#__PURE__*/_jsx(\"div\",{className:\"oval red\",children:\"Closed\"});}else{//check if openHoursTwo!=undefined => we have time with the break \n//otherwise we have only open and close\nif(checkVal(openHoursTwo)){if(currentLocalTime<endTimeObj&&currentLocalTime>startTimeObj){open=/*#__PURE__*/_jsx(\"div\",{className:\"oval green\",children:\"Open\"});opHoursOne=true;}else if(currentLocalTime>endTimeObj&&currentLocalTime<startTimeObjTwo){opHoursOne=false;breakStatus=true;open=/*#__PURE__*/_jsx(\"div\",{className:\"oval yellow\",children:\"Break\"});}else if(currentLocalTime>startTimeObjTwo&&currentLocalTime<endTimeObjTwo){breakStatus=false;opHoursTwo=true;open=/*#__PURE__*/_jsx(\"div\",{className:\"oval green\",children:\"Open\"});}else{open=/*#__PURE__*/_jsx(\"div\",{className:\"oval red\",children:\"Closed\"});}}else{if(currentLocalTime<endTimeObj&&currentLocalTime>startTimeObj){open=/*#__PURE__*/_jsx(\"div\",{className:\"oval green\",children:\"Open\"});opHoursOne=true;}else{open=/*#__PURE__*/_jsx(\"div\",{className:\"oval red\",children:\"Closed\"});}}}return open;};var checkVal=function checkVal(val){if(val==='undefined'||!val||val.length===0){return false;}return true;};useEffect(function(){//console.log('CITYNAME', cityName); \nvar interval=setInterval(function(){clockHandler();setTime(Date.now());},1000);return function(){clearInterval(interval);};},[time]);// console.log(opHoursOne)\n// console.log(opHoursTwo)\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"mainContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mainFont\",children:cityName}),/*#__PURE__*/_jsx(\"div\",{className:\"secondaryFont\",children:regionName.toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{className:\"mainFont\",children:dayTimeStr})]}),/*#__PURE__*/_jsx(\"div\",{className:\"middle\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"clock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hand hour\",style:{transform:\"translate(-50%) rotate(\".concat(clockState.hourRate*360,\"deg)\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"hand minute\",style:{transform:\"translate(-50%) rotate(\".concat(clockState.minuteRate*360,\"deg)\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"hand second\",style:{transform:\"translate(-50%) rotate(\".concat(clockState.secondRate*360,\"deg)\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"number number1\",children:/*#__PURE__*/_jsx(\"div\",{children:\"1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number2\",children:/*#__PURE__*/_jsx(\"div\",{children:\"2\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number3\",children:/*#__PURE__*/_jsx(\"div\",{children:\"3\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number4\",children:/*#__PURE__*/_jsx(\"div\",{children:\"4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number5\",children:/*#__PURE__*/_jsx(\"div\",{children:\"5\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number6\",children:/*#__PURE__*/_jsx(\"div\",{children:\"6\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number7\",children:/*#__PURE__*/_jsx(\"div\",{children:\"7\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number8\",children:/*#__PURE__*/_jsx(\"div\",{children:\"8\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number9\",children:/*#__PURE__*/_jsx(\"div\",{children:\"9\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number10\",children:/*#__PURE__*/_jsx(\"div\",{children:\"10\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number11\",children:/*#__PURE__*/_jsx(\"div\",{children:\"11\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number12\",children:/*#__PURE__*/_jsx(\"div\",{children:\"12\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom\",children:[/*#__PURE__*/_jsx(\"div\",{children:handleOpenButton()}),/*#__PURE__*/_jsx(\"div\",{className:\"addInfo\",children:/*#__PURE__*/_jsx(\"div\",{children:opHoursOne||opHoursTwo?\"\".concat(calculateUntilClose(),\" until close\"):breakStatus?\"\".concat(calculateUntilReopen(),\" until re-open\"):\"\".concat(calculateUntilOpen(),\" until open\")})}),/*#__PURE__*/_jsxs(\"div\",{ref:ref,children:[/*#__PURE__*/_jsx(\"div\",{className:\"oval2\",onClick:handleClick,children:\"Show Open/Close Hours\"}),/*#__PURE__*/_jsx(Overlay,{show:show,target:target,placement:\"top\",containerPadding:20,children:/*#__PURE__*/_jsx(Popover,{id:\"popover-contained\",children:/*#__PURE__*/_jsx(Popover.Content,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"contentBox\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"shedule\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[cityName.toUpperCase(),\" TIME\"]}),/*#__PURE__*/_jsx(\"div\",{children:openHoursOne}),typeof openHoursTwo!='undefined'&&/*#__PURE__*/_jsx(\"div\",{children:openHoursTwo})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"shedule\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"LOCAL TIME\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\".concat(checkSingleDigit(calculateLocalTime(openHoursOne)['hoursFrom']),\":\").concat(openHoursOne.split('-')[0].slice(3,5),\" - \").concat(checkSingleDigit(calculateLocalTime(openHoursOne)['hoursTo']),\":\").concat(openHoursOne.split('-')[1].slice(3,5))}),checkVal(openHoursTwo)?/*#__PURE__*/_jsx(\"div\",{children:\"\".concat(checkSingleDigit(calculateLocalTime(openHoursTwo)['hoursFrom']),\":\").concat(openHoursTwo.split('-')[0].slice(3,5),\" - \").concat(checkSingleDigit(calculateLocalTime(openHoursTwo)['hoursTo']),\":\").concat(openHoursTwo.split('-')[1].slice(3,5))}):null]})]})})})})]})]})]});};export default Clock;","map":{"version":3,"sources":["/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/src/components/clock/Clock.js"],"names":["React","useState","useEffect","useRef","Overlay","Popover","Clock","regionName","cityName","utcoffset","openHoursOne","openHoursTwo","date","Date","localUTC","getTimezoneOffset","utcDiff","Math","abs","breakStatus","opHoursOne","opHoursTwo","initialState","secondRatio","minuteRatio","hourRatio","clockState","setClockState","time","setTime","dayTimeStr","setDayTimeStr","hoursClosedFriday","setHoursClosedFriday","hoursOpen","setHoursOpen","show","setShow","target","setTarget","ref","handleClick","event","calculateUniversalUTC","app_utc_offcet","setHours","getHours","calculateCurrentLocalDate","utcdate","formatDate","d","month","getMonth","day","getDate","year","getFullYear","length","join","checkSingleDigit","String","charAt","digitalClockConverter","days","dayNum","Number","getDay","stsDay","hours","minutes","getMinutes","ampm","strTime","timeStr","clockStateHandler","getSeconds","secondRate","minuteRate","hourRate","clockHandler","currentDate","calculateLocalTime","openHours","hoursFrom","split","slice","hoursTo","calculateRemainingTime","endtime","hourWithDiff","dateInCountry","toDateString","total","parse","seconds","floor","calculateUntilClose","getUTCMonth","getUTCDate","getUTCFullYear","checkVal","hTo","ds","hs","ms","ss","calculateUntilOpen","hFrom","numberOfDaysToAdd","setDate","endtim","calculateInBreak","timeNow","hoursOneTo","hoursTwoFrom","timeString","buttonStatus","calculateUntilReopen","diff","handleOpenButton","currentLocalTime","formattedDate","startTime","endTime","startTimeTwo","endTimeTwo","startTimeObjTwo","endTimeObjTwo","startTimeObj","endTimeObj","open","val","interval","setInterval","now","clearInterval","toUpperCase","transform"],"mappings":"yWAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,OAAT,CAAkBC,OAAlB,KAAiC,iBAAjC,CAEA,MAAO,aAAP,CACA,MAAO,sCAAP,C,wFAIA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAqE,IAAlEC,CAAAA,UAAkE,MAAlEA,UAAkE,CAAtDC,QAAsD,MAAtDA,QAAsD,CAA5CC,SAA4C,MAA5CA,SAA4C,CAAjCC,YAAiC,MAAjCA,YAAiC,CAAnBC,YAAmB,MAAnBA,YAAmB,CAE/E,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,EAAb,CACA,GAAMC,CAAAA,QAAQ,CAAGF,IAAI,CAACG,iBAAL,EAAjB,CAEA,GAAIC,CAAAA,OAAO,CAAGC,IAAI,CAACC,GAAL,CAASJ,QAAQ,CAAC,EAAlB,EAAyBL,SAAS,CAAC,EAAjD,CACA,GAAIU,CAAAA,WAAW,CAAG,KAAlB,CACA,GAAIC,CAAAA,UAAU,CAAG,KAAjB,CACA,GAAIC,CAAAA,UAAU,CAAG,KAAjB,CAGA,GAAMC,CAAAA,YAAY,CAAG,CAAEC,WAAW,CAAE,CAAf,CAAkBC,WAAW,CAAE,CAA/B,CAAkCC,SAAS,CAAE,CAA7C,CAArB,CAX+E,cAazCxB,QAAQ,CAACqB,YAAD,CAbiC,wCAavEI,UAbuE,eAa3DC,aAb2D,8BAcrD1B,QAAQ,CAAC,CAAD,CAd6C,yCAcvE2B,IAduE,eAcjEC,OAdiE,8BAezC5B,QAAQ,CAAC,EAAD,CAfiC,yCAevE6B,UAfuE,eAe3DC,aAf2D,8BAgB3B9B,QAAQ,CAAC,KAAD,CAhBmB,yCAgBvE+B,iBAhBuE,eAgBpDC,oBAhBoD,8BAiB3ChC,QAAQ,CAAC,KAAD,CAjBmC,0CAiBvEiC,SAjBuE,gBAiB5DC,YAjB4D,gBAoB/E;AApB+E,gBAqBvDlC,QAAQ,CAAC,KAAD,CArB+C,2CAqBxEmC,IArBwE,gBAqBlEC,OArBkE,gCAsBnDpC,QAAQ,CAAC,IAAD,CAtB2C,2CAsBxEqC,MAtBwE,gBAsBhEC,SAtBgE,gBAuB/E,GAAMC,CAAAA,GAAG,CAAGrC,MAAM,CAAC,IAAD,CAAlB,CAIA,GAAMsC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC3BL,OAAO,CAAC,CAACD,IAAF,CAAP,CACAG,SAAS,CAACG,KAAK,CAACJ,MAAP,CAAT,CACH,CAHD,CAMA,GAAMK,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAEhC;AACA,GAAI/B,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,EAAX,CACA;AAEA;AACA,GAAI+B,CAAAA,cAAc,CAAGhC,IAAI,CAACG,iBAAL,EAArB,CAA+C;AAE/C;AACAH,IAAI,CAACiC,QAAL,CAAcjC,IAAI,CAACkC,QAAL,GAAmBF,cAAc,CAAC,EAAhD,EACA;AAEA,MAAOhC,CAAAA,IAAP,CACH,CAdD,CAgBA,GAAMmC,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,EAAM,CAEpC,GAAIC,CAAAA,OAAO,CAAGL,qBAAqB,EAAnC,CACA;AAEA;AACAK,OAAO,CAACH,QAAR,CAAiBG,OAAO,CAACF,QAAR,GAAsBrC,SAAS,CAAC,EAAjD,EACA;AAEA,MAAOuC,CAAAA,OAAP,CAEH,CAXD,CAaA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACrC,IAAD,CAAU,CACzB,GAAIsC,CAAAA,CAAC,CAAG,GAAIrC,CAAAA,IAAJ,CAASD,IAAT,CAAR,CAEA,GAAIuC,CAAAA,KAAK,CAAG,IAAMD,CAAC,CAACE,QAAF,GAAe,CAArB,CAAZ,CACA,GAAIC,CAAAA,GAAG,CAAG,GAAKH,CAAC,CAACI,OAAF,EAAf,CACA,GAAIC,CAAAA,IAAI,CAAGL,CAAC,CAACM,WAAF,EAAX,CAEA,GAAIL,KAAK,CAACM,MAAN,CAAe,CAAnB,CACIN,KAAK,CAAG,IAAMA,KAAd,CACJ,GAAIE,GAAG,CAACI,MAAJ,CAAa,CAAjB,CACIJ,GAAG,CAAG,IAAMA,GAAZ,CAEJ,MAAO,CAACE,IAAD,CAAOJ,KAAP,CAAcE,GAAd,EAAmBK,IAAnB,CAAwB,GAAxB,CAAP,CACH,CAbD,CAeA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAC/B,IAAD,CAAU,CAC/B,GAAGgC,MAAM,CAAC,CAAChC,IAAF,CAAN,CAAciC,MAAd,CAAqB,CAArB,GAA2BjC,IAA9B,CAAmC,CAC/BA,IAAI,CAAG,IAAMA,IAAb,CACH,CACD,MAAOA,CAAAA,IAAP,CACH,CALD,CASA,GAAMkC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAAClD,IAAD,CAAU,CAGpC;AACA,GAAMmD,CAAAA,IAAI,CAAG,CAAC,KAAD,CAAO,KAAP,CAAa,KAAb,CAAmB,KAAnB,CAAyB,MAAzB,CAAgC,KAAhC,CAAsC,KAAtC,CAAb,CACA,GAAIC,CAAAA,MAAM,CAAGC,MAAM,CAACrD,IAAI,CAACsD,MAAL,EAAD,CAAnB,CACA,GAAIC,CAAAA,MAAM,CAAGJ,IAAI,CAACC,MAAD,CAAjB,CAGA;AACA,GAAII,CAAAA,KAAK,CAAGxD,IAAI,CAACkC,QAAL,EAAZ,CACA,GAAIuB,CAAAA,OAAO,CAAGzD,IAAI,CAAC0D,UAAL,EAAd,CACA,GAAIC,CAAAA,IAAI,CAAGH,KAAK,EAAI,EAAT,CAAc,IAAd,CAAqB,IAAhC,CACAA,KAAK,CAAGA,KAAK,CAAG,EAAhB,CACAA,KAAK,CAAGA,KAAK,CAAGA,KAAH,CAAW,EAAxB,CACAC,OAAO,CAAGA,OAAO,CAAG,EAAV,CAAe,IAAIA,OAAnB,CAA6BA,OAAvC,CACA,GAAIG,CAAAA,OAAO,CAAGJ,KAAK,CAAG,GAAR,CAAcC,OAAd,CAAwB,GAAxB,CAA8BE,IAA5C,CAEA,GAAIE,CAAAA,OAAO,CAAGN,MAAM,CAAG,GAAT,CAAeK,OAA7B,CAEAzC,aAAa,CAAE,SAAAD,UAAU,QAAI2C,CAAAA,OAAJ,EAAZ,CAAb,CAEH,CAtBD,CAyBA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAC9D,IAAD,CAAU,CAEhC,GAAIW,CAAAA,WAAW,CAAGX,IAAI,CAAC+D,UAAL,GAAoB,EAAtC,CACA,GAAInD,CAAAA,WAAW,CAAG,CAACD,WAAW,CAAGX,IAAI,CAAC0D,UAAL,EAAf,EAAoC,EAAtD,CACA,GAAI7C,CAAAA,SAAS,CAAG,CAACD,WAAW,CAAGZ,IAAI,CAACkC,QAAL,EAAf,EAAkC,EAAlD,CAEAnB,aAAa,gCAAKD,UAAL,MAAiBkD,UAAU,CAAErD,WAA7B,CAA0CsD,UAAU,CAAErD,WAAtD,CAAmEsD,QAAQ,CAAErD,SAA7E,GAAb,CAEH,CARD,CAUA,GAAMsD,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAGvB,GAAIC,CAAAA,WAAW,CAAGjC,yBAAyB,EAA3C,CAEA2B,iBAAiB,CAACM,WAAD,CAAjB,CACAlB,qBAAqB,CAACkB,WAAD,CAArB,CAGH,CATD,CAWA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,SAAD,CAAe,CAItC,GAAIC,CAAAA,SAAS,CAAGlB,MAAM,CAACiB,SAAS,CAACE,KAAV,CAAgB,GAAhB,EAAqB,CAArB,EAAwBC,KAAxB,CAA8B,CAA9B,CAAgC,CAAhC,CAAD,CAAN,CAA6CrE,OAA7D,CACA,GAAIsE,CAAAA,OAAO,CAAGrB,MAAM,CAACiB,SAAS,CAACE,KAAV,CAAgB,GAAhB,EAAqB,CAArB,EAAwBC,KAAxB,CAA8B,CAA9B,CAAgC,CAAhC,CAAD,CAAN,CAA6CrE,OAA3D,CAGA,GAAGsE,OAAO,CAAG,EAAb,CAAgB,CACZA,OAAO,CAAGA,OAAO,CAAC,EAAlB,CACH,CAED3B,gBAAgB,CAACwB,SAAD,CAAhB,CACAxB,gBAAgB,CAAC2B,OAAD,CAAhB,CAEA,MAAO,CAAEH,SAAS,CAATA,SAAF,CAAaG,OAAO,CAAPA,OAAb,CAAP,CAEH,CAjBD,CAmBA,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,OAAD,CAAa,CAExC,GAAIC,CAAAA,YAAY,CAAG,GAAI5E,CAAAA,IAAJ,GAAWiC,QAAX,GAAsB9B,OAAzC,CACA,GAAIJ,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,EAAX,CAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAI6E,CAAAA,aAAa,WAAM3C,yBAAyB,GAAG4C,YAA5B,EAAN,aAAoD5C,yBAAyB,GAAGD,QAA5B,EAApD,aAA8FlC,IAAI,CAAC0D,UAAL,EAA9F,aAAmH1D,IAAI,CAAC+D,UAAL,EAAnH,CAAjB,CAGA;AACA;AACA;AAEA,GAAMiB,CAAAA,KAAK,CAAG/E,IAAI,CAACgF,KAAL,CAAWL,OAAX,EAAsB3E,IAAI,CAACgF,KAAL,CAAWH,aAAX,CAApC,CACA,GAAMI,CAAAA,OAAO,CAAG7E,IAAI,CAAC8E,KAAL,CAAaH,KAAK,CAAC,IAAP,CAAe,EAA3B,CAAhB,CACA,GAAMvB,CAAAA,OAAO,CAAGpD,IAAI,CAAC8E,KAAL,CAAaH,KAAK,CAAC,IAAN,CAAW,EAAZ,CAAkB,EAA9B,CAAhB,CACA,GAAMxB,CAAAA,KAAK,CAAGnD,IAAI,CAAC8E,KAAL,CAAaH,KAAK,EAAE,KAAK,EAAL,CAAQ,EAAV,CAAN,CAAuB,EAAnC,CAAd,CACA,GAAM7B,CAAAA,IAAI,CAAG9C,IAAI,CAAC8E,KAAL,CAAYH,KAAK,EAAE,KAAK,EAAL,CAAQ,EAAR,CAAW,EAAb,CAAjB,CAAb,CAEA,MAAO,CAAC7B,IAAD,CAAMJ,gBAAgB,CAACS,KAAD,CAAtB,CAA8BT,gBAAgB,CAACU,OAAD,CAA9C,CAAwDV,gBAAgB,CAACmC,OAAD,CAAxE,CAAP,CACH,CA5BD,CA8BA,GAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAE9B,GAAIR,CAAAA,OAAO,CAAG,EAAd,CAIA;AACA,GAAMrC,CAAAA,KAAK,CAAG,GAAItC,CAAAA,IAAJ,GAAWoF,WAAX,EAAd,CACA,GAAM5C,CAAAA,GAAG,CAAG,GAAIxC,CAAAA,IAAJ,GAAWqF,UAAX,EAAZ,CACA,GAAM3C,CAAAA,IAAI,CAAG,GAAI1C,CAAAA,IAAJ,GAAWsF,cAAX,EAAb,CAKA,GAAGC,QAAQ,CAACzF,YAAD,CAAX,CAA0B,CACtB,GAAGU,UAAH,CAAc,CACV,GAAIgF,CAAAA,GAAG,WAAM1F,YAAY,CAACyE,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAAN,CAAP,CACAG,OAAO,CAAG,GAAI3E,CAAAA,IAAJ,CAAS0C,IAAT,CAAeJ,KAAf,CAAsBE,GAAtB,CAA2BgD,GAAG,CAAChB,KAAJ,CAAU,CAAV,CAAY,CAAZ,CAA3B,CAA2C,CAA3C,CAA8C,CAA9C,CAAiD,CAAjD,CAAV,CAFU,0BAGeE,sBAAsB,CAACC,OAAD,CAHrC,gEAGHc,EAHG,2BAGCC,EAHD,2BAGKC,EAHL,2BAGSC,EAHT,2BAIV,gBAAUF,EAAV,aAAgBC,EAAhB,aAAsBC,EAAtB,EACH,CALD,IAKO,CACHjB,OAAO,CAAG,GAAI3E,CAAAA,IAAJ,CAAS0C,IAAT,CAAeJ,KAAf,CAAsBE,GAAtB,CAA2B3C,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAA3B,CAAkE3E,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAAlE,CAAyG,CAAzG,CAAV,CADG,2BAEsBE,sBAAsB,CAACC,OAAD,CAF5C,iEAEIc,GAFJ,2BAEQC,GAFR,2BAEYC,GAFZ,2BAEgBC,GAFhB,2BAGH,gBAAUF,GAAV,aAAgBC,GAAhB,aAAsBC,GAAtB,EACH,CAGJ,CAbD,IAaO,CACHjB,OAAO,CAAG,GAAI3E,CAAAA,IAAJ,CAAS0C,IAAT,CAAeJ,KAAf,CAAsBE,GAAtB,CAA2B3C,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAA3B,CAAkE3E,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAAlE,CAAyG,CAAzG,CAAV,CADG,2BAEsBE,sBAAsB,CAACC,OAAD,CAF5C,iEAEIc,IAFJ,2BAEQC,IAFR,2BAEYC,IAFZ,2BAEgBC,IAFhB,2BAGH,gBAAUF,IAAV,aAAgBC,IAAhB,aAAsBC,IAAtB,EAGH,CAEJ,CAnCD,CAsCA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAE7B,GAAIlB,CAAAA,OAAO,CAAG,GAAI3E,CAAAA,IAAJ,EAAd,CAIA;AACA,GAAMsC,CAAAA,KAAK,CAAGqC,OAAO,CAACS,WAAR,EAAd,CACA,GAAM5C,CAAAA,GAAG,CAAGmC,OAAO,CAACU,UAAR,EAAZ,CACA,GAAM3C,CAAAA,IAAI,CAAGiC,OAAO,CAACW,cAAR,EAAb,CACA,GAAIQ,CAAAA,KAAK,WAAMjG,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAN,CAAT,CAEA,GAAMU,CAAAA,OAAO,CAAG7E,IAAI,CAAC8E,KAAL,CAAaP,OAAO,CAAC,IAAT,CAAiB,EAA7B,CAAhB,CACA,GAAMnB,CAAAA,OAAO,CAAGpD,IAAI,CAAC8E,KAAL,CAAaP,OAAO,CAAC,IAAR,CAAa,EAAd,CAAoB,EAAhC,CAAhB,CACA,GAAMpB,CAAAA,KAAK,CAAGnD,IAAI,CAAC8E,KAAL,CAAaP,OAAO,EAAE,KAAK,EAAL,CAAQ,EAAV,CAAR,CAAyB,EAArC,CAAd,CACA,GAAMzB,CAAAA,IAAI,CAAG9C,IAAI,CAAC8E,KAAL,CAAYP,OAAO,EAAE,KAAK,EAAL,CAAQ,EAAR,CAAW,EAAb,CAAnB,CAAb,CAEAA,OAAO,CAAG,GAAI3E,CAAAA,IAAJ,CAAS0C,IAAT,CAAeJ,KAAf,CAAsBE,GAAtB,CAA2BsD,KAAK,CAACtB,KAAN,CAAY,CAAZ,CAAc,CAAd,CAA3B,CAA6C,CAA7C,CAAgD,CAAhD,CAAmD,CAAnD,CAAV,CAIA;AACA,GAAGrD,iBAAH,CAAqB,CACjB,GAAM4E,CAAAA,iBAAiB,CAAG,CAA1B,CACApB,OAAO,CAACqB,OAAR,CAAgBrB,OAAO,CAAClC,OAAR,GAAoBsD,iBAApC,EACH,CAHD,IAGO,IAAIpB,OAAO,CAACtB,MAAR,IAAoB,CAAxB,CAA0B,CAAE;AAC/B,GAAM0C,CAAAA,kBAAiB,CAAG,CAA1B,CACApB,OAAO,CAACqB,OAAR,CAAgBrB,OAAO,CAAClC,OAAR,GAAoBsD,kBAApC,EACH,CAHM,IAGA,IAAGpB,OAAO,CAACtB,MAAR,IAAoB,CAAvB,CAA0B,CAC7B,GAAM0C,CAAAA,mBAAiB,CAAG,CAA1B,CACApB,OAAO,CAACqB,OAAR,CAAgBrB,OAAO,CAAClC,OAAR,GAAoBsD,mBAApC,EACH,CAHM,IAGA,CACHpB,OAAO,CAACqB,OAAR,CAAgBrB,OAAO,CAAClC,OAAR,EAAhB,EACH,CAEDkC,OAAO,WAAMA,OAAO,CAACG,YAAR,EAAN,aAAgC1B,MAAM,CAACvD,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAAD,CAAtC,SAAgF3E,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAAhF,OAAP,CAnC6B,2BAqCJE,sBAAsB,CAACC,OAAD,CArClB,iEAqCtBc,EArCsB,2BAqClBC,EArCkB,2BAqCdC,EArCc,2BAqCVC,EArCU,2BAuC7B;AACA,GAAGH,EAAE,GAAK,CAAC,CAAX,CAAa,CACT,GAAIQ,CAAAA,MAAM,CAAG,GAAIjG,CAAAA,IAAJ,EAAb,CACA,GAAMwC,CAAAA,IAAG,CAAGyD,MAAM,CAACZ,UAAP,GAAoB,CAAhC,CACAY,MAAM,CAAG,GAAIjG,CAAAA,IAAJ,CAAS0C,IAAT,CAAeJ,KAAf,CAAsBE,IAAtB,CAA2BsD,KAAK,CAACtB,KAAN,CAAY,CAAZ,CAAc,CAAd,CAA3B,CAA6C,CAA7C,CAAgD,CAAhD,CAAmD,CAAnD,CAAT,CACAyB,MAAM,WAAMA,MAAM,CAACnB,YAAP,EAAN,aAA+B1B,MAAM,CAACvD,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAAD,CAArC,SAA+E3E,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAA/E,OAAN,CAJS,2BAKgBE,sBAAsB,CAACuB,MAAD,CALtC,kEAKFR,IALE,4BAKEC,IALF,4BAKMC,IALN,4BAKUC,IALV,4BAMT,gBAAUH,IAAV,cAAiBC,IAAjB,aAAuBC,IAAvB,aAA6BC,IAA7B,EAEH,CAGD,gBAAUH,EAAV,cAAiBC,EAAjB,aAAuBC,EAAvB,aAA6BC,EAA7B,EAGH,CAtDD,CAwDA,GAAMM,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAE3B,GAAGX,QAAQ,CAACzF,YAAD,CAAX,CAA0B,CACtB,GAAMqG,CAAAA,OAAO,CAAGjE,yBAAyB,EAAzC,CACA,GAAIkE,CAAAA,UAAU,CAAGhC,kBAAkB,CAACvE,YAAD,CAAlB,CAAiC,SAAjC,CAAjB,CACA,GAAIwG,CAAAA,YAAY,CAAGjC,kBAAkB,CAACtE,YAAD,CAAlB,CAAiC,WAAjC,CAAnB,CACA,GAAIwG,CAAAA,UAAU,WAAMH,OAAO,CAAClE,QAAR,EAAN,aAA4BkE,OAAO,CAAC1C,UAAR,EAA5B,CAAd,CAEA,GAAI8C,CAAAA,YAAY,CAAG,EAAnB,CAEAA,YAAY,CAAGD,UAAU,WAAMD,YAAN,OAAV,EAAqCC,UAAU,WAAMF,UAAN,OAA/C,CACb,IADa,CACN,KADT,CAGA,MAAOG,CAAAA,YAAP,CACH,CAED,MAAO,EAAP,CAGH,CAnBD,CAqBA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CAG/B;AACA,GAAML,CAAAA,OAAO,CAAGjE,yBAAyB,EAAzC,CACA,GAAImE,CAAAA,YAAY,CAAGjC,kBAAkB,CAACtE,YAAD,CAAlB,CAAiC,WAAjC,CAAnB,CAEA;AACA,GAAMwC,CAAAA,KAAK,CAAG6D,OAAO,CAACf,WAAR,GAAwB,CAAtC,CACA,GAAM5C,CAAAA,GAAG,CAAG2D,OAAO,CAACd,UAAR,EAAZ,CACA,GAAM3C,CAAAA,IAAI,CAAGyD,OAAO,CAACb,cAAR,EAAb,CAGA,GAAIc,CAAAA,UAAU,CAAG,GAAIpG,CAAAA,IAAJ,CAAS0C,IAAT,CAAeJ,KAAf,CAAsBE,GAAtB,CAA2B6D,YAA3B,CAAyC,CAAzC,CAA4C,CAA5C,CAA+C,CAA/C,CAAjB,CACA,GAAII,CAAAA,IAAI,CAAGL,UAAU,CAAGD,OAAxB,CAEA;AACA,GAAMlB,CAAAA,OAAO,CAAG7E,IAAI,CAAC8E,KAAL,CAAauB,IAAI,CAAC,IAAN,CAAc,EAA1B,CAAhB,CACA,GAAMjD,CAAAA,OAAO,CAAGpD,IAAI,CAAC8E,KAAL,CAAauB,IAAI,CAAC,IAAL,CAAU,EAAX,CAAiB,EAA7B,CAAhB,CACA,GAAMlD,CAAAA,KAAK,CAAGnD,IAAI,CAAC8E,KAAL,CAAauB,IAAI,EAAE,KAAK,EAAL,CAAQ,EAAV,CAAL,CAAsB,EAAlC,CAAd,CAEA,gBAAU3D,gBAAgB,CAACS,KAAD,CAA1B,aAAqCT,gBAAgB,CAACU,OAAD,CAArD,aAAkEV,gBAAgB,CAACmC,OAAD,CAAlF,EAEH,CAvBD,CA2BA,GAAMyB,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAG3B;AACA,GAAIC,CAAAA,gBAAgB,CAAGzE,yBAAyB,EAAhD,CACA;AAEA,GAAI0E,CAAAA,aAAa,CAAGxE,UAAU,CAACuE,gBAAD,CAA9B,CAEA;AAGA,GAAIE,CAAAA,SAAS,CAAGhH,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAhB,CACA,GAAIuC,CAAAA,OAAO,CAAGjH,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAd,CAEA,GAAIwC,CAAAA,YAAJ,CAAkBC,UAAlB,CAA8BC,eAA9B,CAA+CC,aAA/C,CAEA,GAAG3B,QAAQ,CAACzF,YAAD,CAAX,CAA0B,CACtBiH,YAAY,CAAGjH,YAAY,CAACyE,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAf,CACAyC,UAAU,CAAGlH,YAAY,CAACyE,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAb,CACA0C,eAAe,CAAG,GAAIjH,CAAAA,IAAJ,WAAY4G,aAAZ,aAA6BG,YAA7B,EAAlB,CACAG,aAAa,CAAG,GAAIlH,CAAAA,IAAJ,WAAY4G,aAAZ,aAA6BI,UAA7B,EAAhB,CACH,CAID,GAAIG,CAAAA,YAAY,CAAG,GAAInH,CAAAA,IAAJ,WAAY4G,aAAZ,aAA6BC,SAA7B,EAAnB,CACA,GAAIO,CAAAA,UAAU,CAAG,GAAIpH,CAAAA,IAAJ,WAAY4G,aAAZ,aAA6BE,OAA7B,EAAjB,CAGA,GAAIO,CAAAA,IAAI,CAAG,EAAX,CAEA;AACA,GAAGV,gBAAgB,CAACtD,MAAjB,IAA6B,CAA7B,EAAkCsD,gBAAgB,CAACtD,MAAjB,IAA6B,CAAlE,CAAoE,CAChEgE,IAAI,cAAI,YAAK,SAAS,CAAC,UAAf,oBAAR,CAGH,CAJD,IAIO,CAEH;AACA;AACA,GAAG9B,QAAQ,CAACzF,YAAD,CAAX,CAA0B,CACtB,GAAG6G,gBAAgB,CAAGS,UAAnB,EAAiCT,gBAAgB,CAAGQ,YAAvD,CAAoE,CAChEE,IAAI,cAAI,YAAK,SAAS,CAAC,YAAf,kBAAR,CACA9G,UAAU,CAAG,IAAb,CACH,CAHD,IAGO,IAAGoG,gBAAgB,CAAGS,UAAnB,EAAiCT,gBAAgB,CAAGM,eAAvD,CAAuE,CAC1E1G,UAAU,CAAG,KAAb,CACAD,WAAW,CAAG,IAAd,CACA+G,IAAI,cAAI,YAAK,SAAS,CAAC,aAAf,mBAAR,CACH,CAJM,IAIA,IAAGV,gBAAgB,CAAGM,eAAnB,EAAsCN,gBAAgB,CAAGO,aAA5D,CAA0E,CAC7E5G,WAAW,CAAG,KAAd,CACAE,UAAU,CAAG,IAAb,CACA6G,IAAI,cAAI,YAAK,SAAS,CAAC,YAAf,kBAAR,CAEH,CALM,IAKA,CACHA,IAAI,cAAI,YAAK,SAAS,CAAC,UAAf,oBAAR,CACH,CACJ,CAhBD,IAgBO,CACH,GAAGV,gBAAgB,CAAGS,UAAnB,EAAiCT,gBAAgB,CAAGQ,YAAvD,CAAqE,CACjEE,IAAI,cAAI,YAAK,SAAS,CAAC,YAAf,kBAAR,CACA9G,UAAU,CAAG,IAAb,CACH,CAHD,IAGO,CACH8G,IAAI,cAAI,YAAK,SAAS,CAAC,UAAf,oBAAR,CACH,CACJ,CAEJ,CAGD,MAAOA,CAAAA,IAAP,CACH,CAtED,CAuEA,GAAM9B,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAA+B,GAAG,CAAI,CACpB,GAAIA,GAAG,GAAK,WAAT,EAA0B,CAACA,GAAD,EAAQA,GAAG,CAAC1E,MAAJ,GAAe,CAApD,CAAuD,CACnD,MAAO,MAAP,CACH,CACD,MAAO,KAAP,CAEH,CAND,CAUAvD,SAAS,CAAC,UAAM,CACZ;AACA,GAAMkI,CAAAA,QAAQ,CAAGC,WAAW,CAAC,UAAM,CAC/BtD,YAAY,GACZlD,OAAO,CAAChB,IAAI,CAACyH,GAAL,EAAD,CAAP,CACH,CAH2B,CAGzB,IAHyB,CAA5B,CAKA,MAAO,WAAM,CACTC,aAAa,CAACH,QAAD,CAAb,CACH,CAFD,CAKH,CAZQ,CAYN,CAACxG,IAAD,CAZM,CAAT,CAeA;AACA;AAIA,mBACI,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,UAAf,UAA2BpB,QAA3B,EADJ,cAEI,YAAK,SAAS,CAAC,eAAf,UAAgCD,UAAU,CAACiI,WAAX,EAAhC,EAFJ,cAGI,YAAK,SAAS,CAAC,UAAf,UAA2B1G,UAA3B,EAHJ,GADJ,cAOI,YAAK,SAAS,CAAC,QAAf,uBACI,aAAK,SAAS,CAAC,OAAf,wBACI,YAAK,SAAS,CAAC,WAAf,CACI,KAAK,CAAE,CAAC2G,SAAS,kCAA4B/G,UAAU,CAACoD,QAAX,CAAsB,GAAlD,QAAV,CADX,EADJ,cAII,YAAK,SAAS,CAAC,aAAf,CACI,KAAK,CAAE,CAAC2D,SAAS,kCAA4B/G,UAAU,CAACmD,UAAX,CAAwB,GAApD,QAAV,CADX,EAJJ,cAOI,YAAK,SAAS,CAAC,aAAf,CACI,KAAK,CAAE,CAAC4D,SAAS,kCAA4B/G,UAAU,CAACkD,UAAX,CAAwB,GAApD,QAAV,CADX,EAPJ,cAWI,YAAK,SAAS,CAAC,gBAAf,uBACI,0BADJ,EAXJ,cAeI,YAAK,SAAS,CAAC,gBAAf,uBACI,0BADJ,EAfJ,cAmBI,YAAK,SAAS,CAAC,gBAAf,uBACI,0BADJ,EAnBJ,cAuBI,YAAK,SAAS,CAAC,gBAAf,uBACI,0BADJ,EAvBJ,cA2BI,YAAK,SAAS,CAAC,gBAAf,uBACI,0BADJ,EA3BJ,cA+BI,YAAK,SAAS,CAAC,gBAAf,uBACI,0BADJ,EA/BJ,cAmCI,YAAK,SAAS,CAAC,gBAAf,uBACI,0BADJ,EAnCJ,cAuCI,YAAK,SAAS,CAAC,gBAAf,uBACI,0BADJ,EAvCJ,cA2CI,YAAK,SAAS,CAAC,gBAAf,uBACI,0BADJ,EA3CJ,cA+CI,YAAK,SAAS,CAAC,iBAAf,uBACI,2BADJ,EA/CJ,cAmDI,YAAK,SAAS,CAAC,iBAAf,uBACI,2BADJ,EAnDJ,cAuDI,YAAK,SAAS,CAAC,iBAAf,uBACI,2BADJ,EAvDJ,GADJ,EAPJ,cAqEI,aAAK,SAAS,CAAC,QAAf,wBACI,qBAEK2C,gBAAgB,EAFrB,EADJ,cAMI,YAAK,SAAS,CAAC,SAAf,uBAGI,qBAAQnG,UAAU,EAAIC,UAAf,WAAiC2E,mBAAmB,EAApD,iBAAyE7E,WAAW,WAAOkG,oBAAoB,EAA3B,6BAAqDX,kBAAkB,EAAvE,eAA3F,EAHJ,EANJ,cAYI,aAAK,GAAG,CAAElE,GAAV,wBAEI,YAAK,SAAS,CAAC,OAAf,CAAuB,OAAO,CAAEC,WAAhC,mCAFJ,cAII,KAAC,OAAD,EAAS,IAAI,CAAEL,IAAf,CAAqB,MAAM,CAAEE,MAA7B,CAAqC,SAAS,CAAC,KAA/C,CAAqD,gBAAgB,CAAE,EAAvE,uBACI,KAAC,OAAD,EAAS,EAAE,CAAC,mBAAZ,uBACI,KAAC,OAAD,CAAS,OAAT,wBAEI,aAAK,KAAK,CAAC,YAAX,wBACI,aAAK,KAAK,CAAC,SAAX,wBACI,uBAAM9B,QAAQ,CAACgI,WAAT,EAAN,WADJ,cAEI,qBAAM9H,YAAN,EAFJ,CAGO,MAAOC,CAAAA,YAAP,EAAuB,WAAzB,eAA0C,qBAAMA,YAAN,EAH/C,GADJ,cAMI,aAAK,KAAK,CAAC,SAAX,wBACI,mCADJ,cAEI,+BAASgD,gBAAgB,CAACsB,kBAAkB,CAACvE,YAAD,CAAlB,CAAiC,WAAjC,CAAD,CAAzB,aAA4EA,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAA5E,eAAuH1B,gBAAgB,CAACsB,kBAAkB,CAACvE,YAAD,CAAlB,CAAiC,SAAjC,CAAD,CAAvI,aAAwLA,YAAY,CAAC0E,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAAxL,GAFJ,CAGMe,QAAQ,CAACzF,YAAD,CAAR,cACD,+BAASgD,gBAAgB,CAACsB,kBAAkB,CAACtE,YAAD,CAAlB,CAAiC,WAAjC,CAAD,CAAzB,aAA4EA,YAAY,CAACyE,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAA5E,eAAuH1B,gBAAgB,CAACsB,kBAAkB,CAACtE,YAAD,CAAlB,CAAiC,SAAjC,CAAD,CAAvI,aAAwLA,YAAY,CAACyE,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAmC,CAAnC,CAAxL,GADC,CACuO,IAJ7O,GANJ,GAFJ,EADJ,EADJ,EAJJ,GAZJ,GArEJ,GADJ,CA+GH,CAvhBD,CAyhBA,cAAe/E,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'; \nimport { Overlay, Popover } from 'react-bootstrap';\n\nimport './Clock.css'; \nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\n\nconst Clock = ({ regionName, cityName, utcoffset, openHoursOne, openHoursTwo }) => {\n\n    const date = new Date;\n    const localUTC = date.getTimezoneOffset();\n\n    let utcDiff = Math.abs(localUTC/60) - (utcoffset/60); \n    let breakStatus = false; \n    let opHoursOne = false; \n    let opHoursTwo = false; \n    \n\n    const initialState = { secondRatio: 0, minuteRatio: 0, hourRatio: 0 }; \n    \n    const [ clockState, setClockState ] = useState(initialState);\n    const [ time, setTime ] = useState(0);  \n    const [ dayTimeStr, setDayTimeStr ] = useState('');\n    const [ hoursClosedFriday, setHoursClosedFriday ] = useState(false); \n    const [ hoursOpen, setHoursOpen ] = useState(false); \n    \n\n    //for bs popup \n    const [show, setShow] = useState(false);\n    const [target, setTarget] = useState(null);\n    const ref = useRef(null);\n\n    \n    \n    const handleClick = (event) => {\n        setShow(!show);\n        setTarget(event.target);\n    };\n\n\n    const calculateUniversalUTC = () => {\n\n        //returns local date from where the app is used \n        let date = new Date;    \n        //console.log(date); \n    \n        //offcet taken at the place where app is used \n        let app_utc_offcet = date.getTimezoneOffset(); //returns -480 \n\n        //this is the abstract date according to UTC\n        date.setHours(date.getHours() + (app_utc_offcet/60)); \n        //console.log('ABSTRACT TIME', date); \n\n        return date; \n    }\n\n    const calculateCurrentLocalDate = () => {\n\n        let utcdate = calculateUniversalUTC(); \n        //console.log(\"UTCDATE\" + utcdate); \n\n        //calculate time according to offcet of the country\n        utcdate.setHours(utcdate.getHours() + (utcoffset/60)); \n        //console.log('SHANGHAI TIME', utcdate); \n\n        return utcdate; \n\n    }\n\n    const formatDate = (date) => {\n        let d = new Date(date); \n\n        let month = '' + (d.getMonth() + 1);\n        let day = '' + d.getDate();\n        let year = d.getFullYear();\n\n        if (month.length < 2) \n            month = '0' + month;\n        if (day.length < 2) \n            day = '0' + day;\n\n        return [year, month, day].join('-');\n    }\n\n    const checkSingleDigit = (time) => {\n        if(String(+time).charAt(0) == time){\n            time = '0' + time; \n        }\n        return time; \n    }\n\n\n\n    const digitalClockConverter = (date) => {\n\n        \n        //getting day of the week \n        const days = ['Sun','Mon','Tue','Wed','Thur','Fri','Sat'];\n        let dayNum = Number(date.getDay()); \n        let stsDay = days[dayNum]; \n        \n\n        //getting hours in am/pm \n        let hours = date.getHours();\n        let minutes = date.getMinutes();\n        let ampm = hours >= 12 ? 'PM' : 'AM';\n        hours = hours % 12;\n        hours = hours ? hours : 12; \n        minutes = minutes < 10 ? '0'+minutes : minutes;\n        let strTime = hours + ':' + minutes + ' ' + ampm;\n        \n        let timeStr = stsDay + ' ' + strTime;\n\n        setDayTimeStr( dayTimeStr => timeStr); \n        \n    } \n  \n\n    const clockStateHandler = (date) => {\n        \n        let secondRatio = date.getSeconds() / 60; \n        let minuteRatio = (secondRatio + date.getMinutes()) / 60; \n        let hourRatio = (minuteRatio + date.getHours()) / 12;  \n    \n        setClockState({...clockState, secondRate: secondRatio, minuteRate: minuteRatio, hourRate: hourRatio});\n\n    }\n\n    const clockHandler = () => {\n\n        \n        let currentDate = calculateCurrentLocalDate(); \n    \n        clockStateHandler(currentDate); \n        digitalClockConverter(currentDate);\n\n\n    }\n\n    const calculateLocalTime = (openHours) => {\n\n\n\n        let hoursFrom = Number(openHours.split('-')[0].slice(0,2)) + utcDiff; \n        let hoursTo = Number(openHours.split('-')[1].slice(0,2)) + utcDiff;\n        \n        \n        if(hoursTo > 24){\n            hoursTo = hoursTo%24; \n        }\n\n        checkSingleDigit(hoursFrom); \n        checkSingleDigit(hoursTo); \n        \n        return { hoursFrom, hoursTo }; \n        \n    }\n\n    const calculateRemainingTime = (endtime) => {\n        \n        let hourWithDiff = new Date().getHours()-utcDiff; \n        let date = new Date(); \n\n        //let dateInCountry = ''; \n\n        //check if day in appRegion is the same as date in country\n        // if(date.getDate() === calculateCurrentLocalDate().getDate() ){\n        //     dateInCountry = `${date.toDateString()} ${Math.abs(hourWithDiff)}:${date.getMinutes()}:${date.getSeconds()}`; \n        // } else { \n        //     dateInCountry = `${calculateCurrentLocalDate().toDateString()} ${calculateCurrentLocalDate().getHours()}:${date.getMinutes()}:${date.getSeconds()}`;  \n        // }\n\n        let dateInCountry = `${calculateCurrentLocalDate().toDateString()} ${calculateCurrentLocalDate().getHours()}:${date.getMinutes()}:${date.getSeconds()}`;  \n\n\n        //let dateInCountry = `${date.toDateString()} ${Math.abs(hourWithDiff)}:${date.getMinutes()}:${date.getSeconds()}`; \n        //console.log(dateInCountry); \n        //console.log(endtime); \n\n        const total = Date.parse(endtime) - Date.parse(dateInCountry);\n        const seconds = Math.floor( (total/1000) % 60 );\n        const minutes = Math.floor( (total/1000/60) % 60 );\n        const hours = Math.floor( (total/(1000*60*60)) % 24 );\n        const days = Math.floor( total/(1000*60*60*24) );\n\n        return [days,checkSingleDigit(hours),checkSingleDigit(minutes),checkSingleDigit(seconds)]; \n    }\n\n    const calculateUntilClose = () => {\n\n        let endtime = ''; \n\n       \n\n        //dublication \n        const month = new Date().getUTCMonth(); \n        const day = new Date().getUTCDate();\n        const year = new Date().getUTCFullYear();\n\n       \n        \n\n        if(checkVal(openHoursTwo)){\n            if(opHoursTwo){        \n                let hTo = `${openHoursTwo.split('-')[1].slice(0,2)}`;\n                endtime = new Date(year, month, day, hTo.slice(0,2), 0, 0, 0); \n                const [ds, hs, ms, ss] = calculateRemainingTime(endtime); \n                return `${hs}:${ms}:${ss}`; \n            } else {\n                endtime = new Date(year, month, day, openHoursOne.split('-')[1].slice(0,2), openHoursOne.split('-')[1].slice(3,5), 0);\n                const [ds, hs, ms, ss] = calculateRemainingTime(endtime); \n                return `${hs}:${ms}:${ss}`; \n            }\n\n\n        } else { \n            endtime = new Date(year, month, day, openHoursOne.split('-')[1].slice(0,2), openHoursOne.split('-')[1].slice(3,5), 0); \n            const [ds, hs, ms, ss] = calculateRemainingTime(endtime); \n            return `${hs}:${ms}:${ss}`; \n            \n\n        }\n\n    }\n    \n\n    const calculateUntilOpen = () => {\n\n        let endtime = new Date(); \n        \n\n\n        //dublicates \n        const month = endtime.getUTCMonth(); \n        const day = endtime.getUTCDate();\n        const year = endtime.getUTCFullYear();\n        let hFrom = `${openHoursOne.split('-')[0]}`;\n\n        const seconds = Math.floor( (endtime/1000) % 60 );\n        const minutes = Math.floor( (endtime/1000/60) % 60 );\n        const hours = Math.floor( (endtime/(1000*60*60)) % 24 );\n        const days = Math.floor( endtime/(1000*60*60*24) );\n\n        endtime = new Date(year, month, day, hFrom.slice(0,2), 0, 0, 0); \n\n        \n\n        //on Friday when it's closed already, we add + 2 days to get to Monday (get endtime)\n        if(hoursClosedFriday){\n            const numberOfDaysToAdd = 3;\n            endtime.setDate(endtime.getDate() + numberOfDaysToAdd); \n        } else if (endtime.getDay() == 6){ //check if Saturday \n            const numberOfDaysToAdd = 2;\n            endtime.setDate(endtime.getDate() + numberOfDaysToAdd); \n        } else if(endtime.getDay() == 0) { \n            const numberOfDaysToAdd = 1;\n            endtime.setDate(endtime.getDate() + numberOfDaysToAdd); \n        } else {\n            endtime.setDate(endtime.getDate()); \n        }\n\n        endtime = `${endtime.toDateString()} ${Number(openHoursOne.split('-')[0].slice(0,2))}${openHoursOne.split('-')[0].slice(2,5)}:00`;        \n\n        const [ds, hs, ms, ss] = calculateRemainingTime(endtime); \n\n        //avoid -1 day \n        if(ds === -1){\n            let endtim = new Date(); \n            const day = endtim.getUTCDate()+1;\n            endtim = new Date(year, month, day, hFrom.slice(0,2), 0, 0, 0); \n            endtim = `${endtim.toDateString()} ${Number(openHoursOne.split('-')[0].slice(0,2))}${openHoursOne.split('-')[0].slice(2,5)}:00`; \n            const [ds, hs, ms, ss] = calculateRemainingTime(endtim); \n            return `${ds}d ${hs}:${ms}:${ss}`;\n\n        }\n        \n\n        return `${ds}d ${hs}:${ms}:${ss}`; \n\n\n    }\n\n    const calculateInBreak = () => {\n\n        if(checkVal(openHoursTwo)){\n            const timeNow = calculateCurrentLocalDate(); \n            let hoursOneTo = calculateLocalTime(openHoursOne)['hoursTo']; \n            let hoursTwoFrom = calculateLocalTime(openHoursTwo)['hoursFrom']; \n            let timeString = `${timeNow.getHours()}:${timeNow.getMinutes()}`; \n            \n            let buttonStatus = ''; \n    \n            buttonStatus = timeString < `${hoursTwoFrom}:00` && timeString > `${hoursOneTo}:00` \n            ? true : false; \n    \n            return buttonStatus; \n        }\n\n        return 0; \n\n        \n    }\n\n    const calculateUntilReopen = () => {\n\n \n        //get timeNow and endTime \n        const timeNow = calculateCurrentLocalDate();\n        let hoursTwoFrom = calculateLocalTime(openHoursTwo)['hoursFrom']; \n       \n        //create proper date objects for difference \n        const month = timeNow.getUTCMonth() + 1; \n        const day = timeNow.getUTCDate();\n        const year = timeNow.getUTCFullYear();\n\n\n        let hoursOneTo = new Date(year, month, day, hoursTwoFrom, 0, 0, 0); \n        let diff = hoursOneTo - timeNow; \n\n        //dublicate\n        const seconds = Math.floor( (diff/1000) % 60 );\n        const minutes = Math.floor( (diff/1000/60) % 60 );\n        const hours = Math.floor( (diff/(1000*60*60)) % 24 );\n\n        return `${checkSingleDigit(hours)}:${checkSingleDigit(minutes)}:${checkSingleDigit(seconds)}`; \n\n    }\n\n  \n\n    const handleOpenButton = () => {\n\n\n        //get current local time\n        let currentLocalTime = calculateCurrentLocalDate(); \n        //console.log(currentLocalTime); \n\n        let formattedDate = formatDate(currentLocalTime); \n        \n        //const timeNow = new Date(); \n        \n        \n        let startTime = openHoursOne.split('-')[0]; \n        let endTime = openHoursOne.split('-')[1]; \n\n        let startTimeTwo, endTimeTwo, startTimeObjTwo, endTimeObjTwo; \n\n        if(checkVal(openHoursTwo)){\n            startTimeTwo = openHoursTwo.split('-')[0]; \n            endTimeTwo = openHoursTwo.split('-')[1];\n            startTimeObjTwo = new Date(`${formattedDate} ${startTimeTwo}`); \n            endTimeObjTwo = new Date(`${formattedDate} ${endTimeTwo}`);\n        }\n        \n\n\n        let startTimeObj = new Date(`${formattedDate} ${startTime}`); \n        let endTimeObj = new Date(`${formattedDate} ${endTime}`);\n       \n\n        let open = ''; \n\n        //check if it's Saturday or Sunday \n        if(currentLocalTime.getDay() == 6 || currentLocalTime.getDay() == 0){\n            open = (<div className=\"oval red\">Closed</div>); \n            \n\n        } else {\n            \n            //check if openHoursTwo!=undefined => we have time with the break \n            //otherwise we have only open and close\n            if(checkVal(openHoursTwo)){\n                if(currentLocalTime < endTimeObj && currentLocalTime > startTimeObj){\n                    open = (<div className=\"oval green\">Open</div>); \n                    opHoursOne = true; \n                } else if(currentLocalTime > endTimeObj && currentLocalTime < startTimeObjTwo){\n                    opHoursOne = false; \n                    breakStatus = true; \n                    open = (<div className=\"oval yellow\">Break</div>); \n                } else if(currentLocalTime > startTimeObjTwo && currentLocalTime < endTimeObjTwo){\n                    breakStatus = false;\n                    opHoursTwo = true; \n                    open = (<div className=\"oval green\">Open</div>); \n   \n                } else {       \n                    open = (<div className=\"oval red\">Closed</div>) \n                }\n            } else {\n                if(currentLocalTime < endTimeObj && currentLocalTime > startTimeObj ){\n                    open = (<div className=\"oval green\">Open</div>); \n                    opHoursOne = true; \n                } else {\n                    open = (<div className=\"oval red\">Closed</div>); \n                }\n            }\n\n        }\n            \n         \n        return open;  \n    }\n    const checkVal = val => {\n        if((val === 'undefined') || (!val || val.length === 0)){\n            return false; \n        }\n        return true; \n        \n    }\n\n\n     \n    useEffect(() => {\n        //console.log('CITYNAME', cityName); \n        const interval = setInterval(() => {\n            clockHandler();\n            setTime(Date.now())    \n        }, 1000); \n       \n        return () => {\n            clearInterval(interval);\n        };\n    \n        \n    }, [time]); \n\n\n    // console.log(opHoursOne)\n    // console.log(opHoursTwo)\n\n    \n\n    return (\n        <div className=\"mainContainer\">\n            <div className=\"top\">\n                <div className=\"mainFont\">{cityName}</div>\n                <div className=\"secondaryFont\">{regionName.toUpperCase()}</div>\n                <div className=\"mainFont\">{dayTimeStr}</div>\n            </div>\n\n            <div className=\"middle\">\n                <div className=\"clock\">\n                    <div className=\"hand hour\" \n                        style={{transform: `translate(-50%) rotate(${clockState.hourRate * 360}deg)`}}>\n                    </div>\n                    <div className=\"hand minute\"\n                        style={{transform: `translate(-50%) rotate(${clockState.minuteRate * 360}deg)`}}>\n                    </div>\n                    <div className=\"hand second\"\n                        style={{transform: `translate(-50%) rotate(${clockState.secondRate * 360}deg)`}}>\n                    </div>\n\n                    <div className=\"number number1\">\n                        <div>1</div>\n                    </div>\n\n                    <div className=\"number number2\">\n                        <div>2</div>\n                    </div>\n\n                    <div className=\"number number3\">\n                        <div>3</div>\n                    </div>\n\n                    <div className=\"number number4\">\n                        <div>4</div>\n                    </div>\n\n                    <div className=\"number number5\">\n                        <div>5</div>\n                    </div>\n\n                    <div className=\"number number6\">\n                        <div>6</div>\n                    </div>\n\n                    <div className=\"number number7\">\n                        <div>7</div>\n                    </div>\n\n                    <div className=\"number number8\">\n                        <div>8</div>\n                    </div>\n\n                    <div className=\"number number9\">\n                        <div>9</div>\n                    </div>\n\n                    <div className=\"number number10\">\n                        <div>10</div>\n                    </div>\n\n                    <div className=\"number number11\">\n                        <div>11</div>\n                    </div>\n\n                    <div className=\"number number12\">\n                        <div>12</div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"bottom\">\n                <div>\n\n                    {handleOpenButton()}\n\n                </div>\n                <div className=\"addInfo\">\n                    {/* {breakStatus ? <div>{calculateUntilReopen()} until re-open</div> : null} */}\n                    \n                    <div>{ (opHoursOne || opHoursTwo) ? (`${calculateUntilClose()} until close`) : (breakStatus ? (`${calculateUntilReopen()} until re-open`) : (`${calculateUntilOpen()} until open` )) }</div>\n                </div>\n\n                <div ref={ref}>\n                    \n                    <div className=\"oval2\" onClick={handleClick}>Show Open/Close Hours</div>\n\n                    <Overlay show={show} target={target} placement=\"top\" containerPadding={20}>\n                        <Popover id=\"popover-contained\">\n                            <Popover.Content>\n\n                                <div class=\"contentBox\">\n                                    <div class=\"shedule\">\n                                        <div>{cityName.toUpperCase()} TIME</div>\n                                        <div>{openHoursOne}</div>\n                                        {( typeof openHoursTwo != 'undefined') && (<div>{openHoursTwo}</div>)}\n                                    </div>\n                                    <div class=\"shedule\">\n                                        <div>LOCAL TIME</div>\n                                        <div>{`${checkSingleDigit(calculateLocalTime(openHoursOne)['hoursFrom'])}:${openHoursOne.split('-')[0].slice(3,5)} - ${checkSingleDigit(calculateLocalTime(openHoursOne)['hoursTo'])}:${openHoursOne.split('-')[1].slice(3,5)}`}</div>\n                                        { checkVal(openHoursTwo) ?  \n                                        (<div>{`${checkSingleDigit(calculateLocalTime(openHoursTwo)['hoursFrom'])}:${openHoursTwo.split('-')[0].slice(3,5)} - ${checkSingleDigit(calculateLocalTime(openHoursTwo)['hoursTo'])}:${openHoursTwo.split('-')[1].slice(3,5)}`}</div>):null}\n                                    </div>  \n                                </div>\n                                \n                            </Popover.Content>\n                        </Popover>\n                    </Overlay>\n                </div>               \n            </div>            \n        </div>\n    )\n}\n\nexport default Clock; \n"]},"metadata":{},"sourceType":"module"}