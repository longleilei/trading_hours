{"ast":null,"code":"import _regeneratorRuntime from\"/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import*as Constants from'./constants';import*as styles from'./App.module.scss';import RegionBox from'./components/regionBox/RegionBox';import AdminPanel from'./components/adminPanel/AdminPanel';import Footer from'./components/footer/Footer';import Orbitals from'@bit/joshk.react-spinners-css.orbitals';// const body = \n// [ \n//     {\n//         \"id\":\"123\", \n//         \"continent\":\"Europe\", \n//         \"country\":\"Netherlands\",\n//         \"city\":\"Amsterdam\", \n//         \"utcoffset\":\"60\",\n//         \"openHoursOne\":\"11:00-14:00\",\n//         \"openingHoursTwo\":\"15:00-17:00\" \n//     },\n//     {\n//         \"id\":\"456\", \n//         \"continent\":\"Asia\", \n//         \"country\":\"China\",\n//         \"city\":\"Shanghai\", \n//         \"utcoffset\":\"480\",\n//         \"openHoursOne\":\"11:00-14:00\",\n//         \"openingHoursTwo\":\"15:00-17:00\" \n//     }, \n//     {\n//         \"id\":\"789\", \n//         \"continent\":\"South America\", \n//         \"country\":\"Brazil\",\n//         \"city\":\"San Paolo\", \n//         \"utcoffset\":\"180\",\n//         \"openHoursOne\":\"11:00-14:00\",\n//         \"openingHoursTwo\":\"15:00-17:00\" \n//     }, \n//     {\n//       \"id\":\"1122\", \n//       \"continent\":\"Europe\", \n//       \"country\":\"Ukraine\",\n//       \"city\":\"Kyiv\", \n//       \"utcoffset\":\"60\",\n//       \"openHoursOne\":\"11:00-14:00\",\n//       \"openingHoursTwo\":\"15:00-17:00\" \n//   }\n// ]\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var uniqueContinents=[];var continents=[];//delete this\nvar arr=[];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAdminPanel=_useState2[0],setshowAdminPanel=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var showAdminHandler=function showAdminHandler(){setshowAdminPanel(function(showAdminPanel){return!showAdminPanel;});};var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var response,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(function(loading){return true;});_context.next=3;return fetch(url);case 3:response=_context.sent;_context.prev=4;_context.next=7;return response.json();case 7:body=_context.sent;setLoading(function(loading){return false;});//for testing single clock\n//arr.push(body.data.Items[1]); \n//arr.push(body.data.Items[9]); \n//console.log(body.data.Items[8]); \nsetData(function(data){return body.data.Items;});//console.log(data); \n//setData(data => arr);\n_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](4);console.log('Error happened here!');console.error(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[4,12]]);}));return function fetchData(_x){return _ref.apply(this,arguments);};}();for(var key in data){continents.push(data[key].continent);}uniqueContinents=continents.filter(function(v,i,a){return a.indexOf(v)===i;});var regionBox=uniqueContinents.map(function(cont){return/*#__PURE__*/_jsx(RegionBox,{continentName:cont,data:data},cont.id);});useEffect(function(){fetchData(Constants.GET_URL);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.App,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.titleBox,children:/*#__PURE__*/_jsx(\"div\",{className:styles.title,children:\"The Markets Open\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.mainContentBox,children:[loading?/*#__PURE__*/_jsx(\"div\",{className:styles.loader,children:/*#__PURE__*/_jsx(Orbitals,{color:\"rgb(70, 190, 112)\"})}):regionBox,/*#__PURE__*/_jsx(\"div\",{className:styles.buttonContainer,children:/*#__PURE__*/_jsx(\"button\",{onClick:showAdminHandler,children:\"Admin Panel\"})}),showAdminPanel&&/*#__PURE__*/_jsx(AdminPanel,{})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"sources":["/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/src/App.js"],"names":["React","useState","useEffect","Constants","styles","RegionBox","AdminPanel","Footer","Orbitals","App","uniqueContinents","continents","arr","showAdminPanel","setshowAdminPanel","data","setData","loading","setLoading","showAdminHandler","fetchData","url","fetch","response","json","body","Items","console","log","error","key","push","continent","filter","v","i","a","indexOf","regionBox","map","cont","id","GET_URL","titleBox","title","mainContentBox","loader","buttonContainer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'; \n\nimport * as Constants from './constants'; \nimport * as styles from './App.module.scss';\nimport RegionBox from './components/regionBox/RegionBox'; \nimport AdminPanel from './components/adminPanel/AdminPanel'; \nimport Footer from './components/footer/Footer'; \nimport Orbitals from '@bit/joshk.react-spinners-css.orbitals';\n\n\n// const body = \n// [ \n//     {\n//         \"id\":\"123\", \n//         \"continent\":\"Europe\", \n//         \"country\":\"Netherlands\",\n//         \"city\":\"Amsterdam\", \n//         \"utcoffset\":\"60\",\n//         \"openHoursOne\":\"11:00-14:00\",\n//         \"openingHoursTwo\":\"15:00-17:00\" \n\n//     },\n//     {\n//         \"id\":\"456\", \n//         \"continent\":\"Asia\", \n//         \"country\":\"China\",\n//         \"city\":\"Shanghai\", \n//         \"utcoffset\":\"480\",\n//         \"openHoursOne\":\"11:00-14:00\",\n//         \"openingHoursTwo\":\"15:00-17:00\" \n\n//     }, \n//     {\n//         \"id\":\"789\", \n//         \"continent\":\"South America\", \n//         \"country\":\"Brazil\",\n//         \"city\":\"San Paolo\", \n//         \"utcoffset\":\"180\",\n//         \"openHoursOne\":\"11:00-14:00\",\n//         \"openingHoursTwo\":\"15:00-17:00\" \n\n//     }, \n\n//     {\n//       \"id\":\"1122\", \n//       \"continent\":\"Europe\", \n//       \"country\":\"Ukraine\",\n//       \"city\":\"Kyiv\", \n//       \"utcoffset\":\"60\",\n//       \"openHoursOne\":\"11:00-14:00\",\n//       \"openingHoursTwo\":\"15:00-17:00\" \n\n//   }\n\n// ]\n\nconst App = ()  => {\n\n  let uniqueContinents = [];\n  let continents = []; \n  //delete this\n  let arr = []; \n\n  const [ showAdminPanel, setshowAdminPanel] = useState(false);\n  const [ data, setData ] = useState([]);  \n  const [ loading, setLoading ] = useState(false); \n  \n  const showAdminHandler = () => {\n    setshowAdminPanel(showAdminPanel => !showAdminPanel); \n  } \n\n\n  const fetchData = async(url) => {\n    setLoading(loading => true); \n    const response = await fetch(url);\n\n    try{\n      const body = await response.json(); \n      setLoading(loading => false); \n      //for testing single clock\n      //arr.push(body.data.Items[1]); \n      //arr.push(body.data.Items[9]); \n      //console.log(body.data.Items[8]); \n      setData(data => body.data.Items);\n      //console.log(data); \n      //setData(data => arr);\n    }catch(error){\n      console.log('Error happened here!')\n      console.error(error); \n    }\n     \n    //setLoading(true); \n  }\n\n\n\n\n  for (let key in data) {\n    continents.push(data[key].continent);    \n  }\n\n  uniqueContinents = continents.filter((v, i, a) => a.indexOf(v) === i);\n\n  let regionBox = uniqueContinents.map( cont => \n    <RegionBox \n      key={cont.id} \n      continentName={cont} \n      data={data}/>\n  )\n\n\n  useEffect(() => {\n    fetchData(Constants.GET_URL); \n  },[]); \n\n\n  return (\n    <div className={styles.App}>\n      <div className={styles.titleBox}>\n        <div className={styles.title} >The Markets Open</div>\n      </div>\n      <div className={styles.mainContentBox}>\n\n        {loading ? <div className={styles.loader}><Orbitals color=\"rgb(70, 190, 112)\" /></div> : regionBox}\n\n        {/* {\n          uniqueContinents.map( cont => \n            <RegionBox \n              key={cont.id} \n              continentName={cont} \n              data={data}/>\n          )\n        } */}\n       \n\n        \n        <div className={styles.buttonContainer}>\n          <button onClick={showAdminHandler}>Admin Panel</button>    \n        </div>\n\n\n          {showAdminPanel && <AdminPanel/>}\n\n      \n      </div>\n\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}