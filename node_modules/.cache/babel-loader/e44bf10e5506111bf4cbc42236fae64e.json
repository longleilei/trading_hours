{"ast":null,"code":"import _objectSpread from\"/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{Overlay,Popover}from'react-bootstrap';import'./Clock.css';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Clock=function Clock(_ref){var regionName=_ref.regionName,cityName=_ref.cityName,utcoffset=_ref.utcoffset,openHoursOne=_ref.openHoursOne,openHoursTwo=_ref.openHoursTwo;//let city = cityName; \nvar localTime={};var initialState={secondRatio:0,minuteRatio:0,hourRatio:0};//const [ cit, setCit ] = useState(''); \nvar _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),clockState=_useState2[0],setClockState=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),time=_useState4[0],setTime=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),dayTimeStr=_useState6[0],setDayTimeStr=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),openButton=_useState8[0],showOpenButton=_useState8[1];//for bs popup \nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),show=_useState10[0],setShow=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),target=_useState12[0],setTarget=_useState12[1];var ref=useRef(null);var handleClick=function handleClick(event){setShow(!show);setTarget(event.target);};var digitalClockConverter=function digitalClockConverter(date){//getting day of the week \nvar days=['Sun','Mon','Tue','Wed','Thur','Fri','Sat'];var dayNum=Number(date.getDay());var stsDay=days[dayNum];//getting hours in am/pm \nvar hours=date.getHours();var minutes=date.getMinutes();var ampm=hours>=12?'PM':'AM';hours=hours%12;hours=hours?hours:12;minutes=minutes<10?'0'+minutes:minutes;var strTime=hours+':'+minutes+' '+ampm;var timeStr=stsDay+' '+strTime;setDayTimeStr(function(dayTimeStr){return timeStr;});};var clockStateHandler=function clockStateHandler(date){var secondRatio=date.getSeconds()/60;var minuteRatio=(secondRatio+date.getMinutes())/60;var hourRatio=(minuteRatio+date.getHours())/12;setClockState(_objectSpread(_objectSpread({},clockState),{},{secondRate:secondRatio,minuteRate:minuteRatio,hourRate:hourRatio}));};var clockHandler=function clockHandler(){var date=new Date();var utc_offcet=date.getTimezoneOffset();//offset is +8 from UTC\ndate.setMinutes(date.getMinutes()+utc_offcet);date.setMinutes(date.getMinutes()+utcoffset);clockStateHandler(date);digitalClockConverter(date);// switch(city){\n//     case 'Amsterdam':\n//         date.setMinutes(date.getMinutes() + utc2offcet); \n//         clockStateHandler(date); \n//         digitalClockConverter(date);\n//         return true; \n//     case 'Brussels':\n//         date.setMinutes(date.getMinutes() + utc1offcet); \n//         clockStateHandler(date); \n//         digitalClockConverter(date); \n//         return true;\n//     case 'London': \n//         date.setMinutes(date.getMinutes() + utc1offcet); \n//         clockStateHandler(date); \n//         digitalClockConverter(date); \n//         return true;\n//     case 'Paris': \n//         date.setMinutes(date.getMinutes() + utc2offcet); \n//         clockStateHandler(date); \n//         digitalClockConverter(date); \n//         return true;\n//     default:\n//         return 0; \n// }\n};var calculateLocalTime=function calculateLocalTime(){//Amsterdam 19:00 is 01:00 locally => 6 hours \n//Amsterdam utc +2 Local utc +8 => 6 hours difference \nvar date=new Date();var localUTC=Math.abs(date.getTimezoneOffset());var utcDiff=localUTC/60-120/60;//console.log(utcDiff); //6\n//11:00-14:00\nvar countryHours=openHoursOne.split('-');//['11:00', '14:00'] or instead ['11am', '2pm']\nvar hoursFrom=Number(countryHours[0].slice(0,2))+utcDiff;var hoursTo=Number(countryHours[1].slice(0,2))+utcDiff;return{hoursFrom:hoursFrom,hoursTo:hoursTo};};localTime=calculateLocalTime();//console.log(localTime); \nuseEffect(function(){//console.log('CITYNAME', cityName); \nvar interval=setInterval(function(){clockHandler();setTime(Date.now());},1000);return function(){clearInterval(interval);};},[time]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mainContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mainFont\",children:cityName}),/*#__PURE__*/_jsx(\"div\",{className:\"secondaryFont\",children:regionName.toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{className:\"mainFont\",children:dayTimeStr})]}),/*#__PURE__*/_jsx(\"div\",{class:\"middle\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"clock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hand hour\",style:{transform:\"translate(-50%) rotate(\".concat(clockState.hourRate*360,\"deg)\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"hand minute\",style:{transform:\"translate(-50%) rotate(\".concat(clockState.minuteRate*360,\"deg)\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"hand second\",style:{transform:\"translate(-50%) rotate(\".concat(clockState.secondRate*360,\"deg)\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"number number1\",children:/*#__PURE__*/_jsx(\"div\",{children:\"1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number2\",children:/*#__PURE__*/_jsx(\"div\",{children:\"2\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number3\",children:/*#__PURE__*/_jsx(\"div\",{children:\"3\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number4\",children:/*#__PURE__*/_jsx(\"div\",{children:\"4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number5\",children:/*#__PURE__*/_jsx(\"div\",{children:\"5\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number6\",children:/*#__PURE__*/_jsx(\"div\",{children:\"6\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number7\",children:/*#__PURE__*/_jsx(\"div\",{children:\"7\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number8\",children:/*#__PURE__*/_jsx(\"div\",{children:\"8\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number9\",children:/*#__PURE__*/_jsx(\"div\",{children:\"9\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number10\",children:/*#__PURE__*/_jsx(\"div\",{children:\"10\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number11\",children:/*#__PURE__*/_jsx(\"div\",{children:\"11\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"number number12\",children:/*#__PURE__*/_jsx(\"div\",{children:\"12\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom\",children:[/*#__PURE__*/_jsx(\"div\",{children:openButton?/*#__PURE__*/_jsx(\"div\",{className:\"oval green\",children:\"Open\"}):/*#__PURE__*/_jsx(\"div\",{className:\"oval red\",children:\"Closed\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"addInfo\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"1:01:38 until break\"}),/*#__PURE__*/_jsx(\"div\",{children:\"5:01:38 until close\"})]}),/*#__PURE__*/_jsxs(\"div\",{ref:ref,children:[/*#__PURE__*/_jsx(\"div\",{className:\"oval2\",onClick:handleClick,children:\"Show Open/Close Hours\"}),/*#__PURE__*/_jsx(Overlay,{show:show,target:target,placement:\"top\",containerPadding:20,children:/*#__PURE__*/_jsx(Popover,{id:\"popover-contained\",children:/*#__PURE__*/_jsx(Popover.Content,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"contentBox\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"shedule\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[cityName.toUpperCase(),\" TIME\"]}),/*#__PURE__*/_jsx(\"div\",{children:openHoursOne})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"shedule\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"LOCAL TIME\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\".concat(localTime['hoursFrom'],\":00 - \").concat(localTime['hoursTo'],\":00\")})]})]})})})})]})]})]});};export default Clock;","map":{"version":3,"sources":["/Users/leilei/Documents/Main/Tech Tasks/Fintonium/tradinghours/src/components/clock/Clock.js"],"names":["React","useState","useEffect","useRef","Overlay","Popover","Clock","regionName","cityName","utcoffset","openHoursOne","openHoursTwo","localTime","initialState","secondRatio","minuteRatio","hourRatio","clockState","setClockState","time","setTime","dayTimeStr","setDayTimeStr","openButton","showOpenButton","show","setShow","target","setTarget","ref","handleClick","event","digitalClockConverter","date","days","dayNum","Number","getDay","stsDay","hours","getHours","minutes","getMinutes","ampm","strTime","timeStr","clockStateHandler","getSeconds","secondRate","minuteRate","hourRate","clockHandler","Date","utc_offcet","getTimezoneOffset","setMinutes","calculateLocalTime","localUTC","Math","abs","utcDiff","countryHours","split","hoursFrom","slice","hoursTo","interval","setInterval","now","clearInterval","toUpperCase","transform"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'; \nimport { Overlay, Popover } from 'react-bootstrap';\n\nimport './Clock.css'; \nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\n\n\n\n\nconst Clock = ({ regionName, cityName, utcoffset, openHoursOne, openHoursTwo }) => {\n\n    //let city = cityName; \n    let localTime = {}; \n\n    const initialState = { secondRatio: 0, minuteRatio: 0, hourRatio: 0 }; \n    \n    //const [ cit, setCit ] = useState(''); \n    const [ clockState, setClockState ] = useState(initialState);\n    const [ time, setTime ] = useState(0);  \n    const [ dayTimeStr, setDayTimeStr ] = useState('');\n    const [ openButton, showOpenButton ] = useState(true); \n\n    //for bs popup \n    const [show, setShow] = useState(false);\n    const [target, setTarget] = useState(null);\n    const ref = useRef(null);\n\n    \n    \n    const handleClick = (event) => {\n        setShow(!show);\n        setTarget(event.target);\n    };\n\n    const digitalClockConverter = (date) => {\n\n        \n        //getting day of the week \n        const days = ['Sun','Mon','Tue','Wed','Thur','Fri','Sat'];\n        let dayNum = Number(date.getDay()); \n        let stsDay = days[dayNum]; \n        \n\n        //getting hours in am/pm \n        let hours = date.getHours();\n        let minutes = date.getMinutes();\n        let ampm = hours >= 12 ? 'PM' : 'AM';\n        hours = hours % 12;\n        hours = hours ? hours : 12; \n        minutes = minutes < 10 ? '0'+minutes : minutes;\n        let strTime = hours + ':' + minutes + ' ' + ampm;\n        \n        let timeStr = stsDay + ' ' + strTime;\n\n        setDayTimeStr( dayTimeStr => timeStr); \n        \n    } \n\n    \n\n    const clockStateHandler = (date) => {\n        \n        let secondRatio = date.getSeconds() / 60; \n        let minuteRatio = (secondRatio + date.getMinutes()) / 60; \n        let hourRatio = (minuteRatio + date.getHours()) / 12;  \n    \n        setClockState({...clockState, secondRate: secondRatio, minuteRate: minuteRatio, hourRate: hourRatio});\n\n    }\n\n    const clockHandler = () => {\n    \n\n        const date = new Date;\n    \n        let utc_offcet = date.getTimezoneOffset(); //offset is +8 from UTC\n        date.setMinutes(date.getMinutes() + utc_offcet); \n \n\n        date.setMinutes(date.getMinutes() + utcoffset); \n        clockStateHandler(date); \n        digitalClockConverter(date);\n\n        // switch(city){\n        //     case 'Amsterdam':\n        //         date.setMinutes(date.getMinutes() + utc2offcet); \n        //         clockStateHandler(date); \n        //         digitalClockConverter(date);\n        //         return true; \n        //     case 'Brussels':\n        //         date.setMinutes(date.getMinutes() + utc1offcet); \n        //         clockStateHandler(date); \n        //         digitalClockConverter(date); \n        //         return true;\n        //     case 'London': \n        //         date.setMinutes(date.getMinutes() + utc1offcet); \n        //         clockStateHandler(date); \n        //         digitalClockConverter(date); \n        //         return true;\n        //     case 'Paris': \n        //         date.setMinutes(date.getMinutes() + utc2offcet); \n        //         clockStateHandler(date); \n        //         digitalClockConverter(date); \n        //         return true;\n            \n            \n        //     default:\n        //         return 0; \n        // }\n\n    }\n\n    const calculateLocalTime = () => {\n        //Amsterdam 19:00 is 01:00 locally => 6 hours \n        //Amsterdam utc +2 Local utc +8 => 6 hours difference \n\n        const date = new Date;\n        const localUTC = Math.abs(date.getTimezoneOffset()); \n\n        let utcDiff = (localUTC/60) - (120 / 60); \n        //console.log(utcDiff); //6\n\n        //11:00-14:00\n        let countryHours = openHoursOne.split('-'); //['11:00', '14:00'] or instead ['11am', '2pm']\n        \n\n        let hoursFrom = Number(countryHours[0].slice(0,2)) + utcDiff;  \n        let hoursTo = Number(countryHours[1].slice(0,2)) + utcDiff;\n        \n        return { hoursFrom, hoursTo }; \n        \n    }\n\n    localTime = calculateLocalTime(); \n    //console.log(localTime); \n\n    \n    useEffect(() => {\n        //console.log('CITYNAME', cityName); \n        const interval = setInterval(() => {\n            clockHandler();\n            setTime(Date.now())    \n        }, 1000); \n       \n        return () => {\n            clearInterval(interval);\n        };\n    \n        \n    }, [time]); \n\n\n    return (\n        <div className=\"mainContainer\">\n            <div className=\"top\">\n                <div className=\"mainFont\">{cityName}</div>\n                <div className=\"secondaryFont\">{regionName.toUpperCase()}</div>\n                <div className=\"mainFont\">{dayTimeStr}</div>\n            </div>\n\n            <div class=\"middle\">\n                <div className=\"clock\">\n                    <div className=\"hand hour\" \n                        style={{transform: `translate(-50%) rotate(${clockState.hourRate * 360}deg)`}}>\n                    </div>\n                    <div className=\"hand minute\"\n                        style={{transform: `translate(-50%) rotate(${clockState.minuteRate * 360}deg)`}}>\n                    </div>\n                    <div className=\"hand second\"\n                        style={{transform: `translate(-50%) rotate(${clockState.secondRate * 360}deg)`}}>\n                    </div>\n\n                    <div className=\"number number1\">\n                        <div>1</div>\n                    </div>\n\n                    <div className=\"number number2\">\n                        <div>2</div>\n                    </div>\n\n                    <div className=\"number number3\">\n                        <div>3</div>\n                    </div>\n\n                    <div className=\"number number4\">\n                        <div>4</div>\n                    </div>\n\n                    <div className=\"number number5\">\n                        <div>5</div>\n                    </div>\n\n                    <div className=\"number number6\">\n                        <div>6</div>\n                    </div>\n\n                    <div className=\"number number7\">\n                        <div>7</div>\n                    </div>\n\n                    <div className=\"number number8\">\n                        <div>8</div>\n                    </div>\n\n                    <div className=\"number number9\">\n                        <div>9</div>\n                    </div>\n\n                    <div className=\"number number10\">\n                        <div>10</div>\n                    </div>\n\n                    <div className=\"number number11\">\n                        <div>11</div>\n                    </div>\n\n                    <div className=\"number number12\">\n                        <div>12</div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"bottom\">\n                <div>\n                    {\n                        openButton ? (<div className=\"oval green\">Open</div>) : (<div className=\"oval red\">Closed</div>)\n                    }\n                    \n                </div>\n                <div className=\"addInfo\">\n                    <div>1:01:38 until break</div>\n                    <div>5:01:38 until close</div>\n                </div>\n\n                <div ref={ref}>\n                    \n                    <div className=\"oval2\" onClick={handleClick}>Show Open/Close Hours</div>\n\n                    <Overlay show={show} target={target} placement=\"top\" containerPadding={20}>\n                        <Popover id=\"popover-contained\">\n                            <Popover.Content>\n\n                                <div class=\"contentBox\">\n                                    <div class=\"shedule\">\n                                        <div>{cityName.toUpperCase()} TIME</div>\n                                        <div>{openHoursOne}</div>\n                                    </div>\n                                    <div class=\"shedule\">\n                                        <div>LOCAL TIME</div>\n                                        <div>{`${localTime['hoursFrom']}:00 - ${localTime['hoursTo']}:00`}</div>\n                                    </div>  \n                                </div>\n                                \n                            </Popover.Content>\n                        </Popover>\n                    </Overlay>\n                </div>               \n            </div>            \n        </div>\n    )\n}\n\nexport default Clock; \n"]},"metadata":{},"sourceType":"module"}