(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports={mainContainer:"AdminPanel_mainContainer__eCgn9",contentBox:"AdminPanel_contentBox__2ld4g",input:"AdminPanel_input__1hDGF",title:"AdminPanel_title__K2rkn",submitBox:"AdminPanel_submitBox__2WnIK",submitBtn:"AdminPanel_submitBtn__1pi5c"}},12:function(e,t,n){e.exports={App:"App_App__15LM-",titleBox:"App_titleBox__2GMTu",title:"App_title__2oBiX",mainContentBox:"App_mainContentBox__1aecN",loader:"App_loader__Dop8H",buttonContainer:"App_buttonContainer__1xV-k"}},13:function(e,t,n){e.exports={container:"TimeSelector_container__2LIqj",divider:"TimeSelector_divider__3N4WB",textField:"TimeSelector_textField__2c22J"}},16:function(e,t,n){e.exports={regionBox:"RegionBox_regionBox__1h1Sb",greyStripe:"RegionBox_greyStripe__3tqZx",left:"RegionBox_left__NuNrX",right:"RegionBox_right__2avtE",clockBoxes:"RegionBox_clockBoxes__Y_2Rc"}},29:function(e,t,n){e.exports={Footer:"Footer_Footer__1V-Tq",copyright:"Footer_copyright__sR80m"}},35:function(e,t,n){e.exports={ddWrapper:"ContinentDropdown_ddWrapper__1HUyH"}},45:function(e,t,n){},47:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(9),r=n.n(o),i=(n(45),n(15)),s=n.n(i),l=n(21),u=n(7),j=n(12),d=n(16),b=n(22),h=n(10),O=n(89),m=n(90),p=(n(47),n(48),n(2)),f=function(e){var t=e.regionName,n=e.cityName,a=e.utcoffset,o=e.openHoursOne,r=e.openHoursTwo,i=(new Date).getTimezoneOffset(),s=Math.abs(i/60)-a/60,l=!1,j=!1,d=!1,b=Object(c.useState)({secondRatio:0,minuteRatio:0,hourRatio:0}),f=Object(u.a)(b,2),x=f[0],v=f[1],g=Object(c.useState)(0),N=Object(u.a)(g,2),_=N[0],C=N[1],S=Object(c.useState)(""),y=Object(u.a)(S,2),D=y[0],w=y[1],T=Object(c.useState)(!1),B=Object(u.a)(T,2),F=B[0],M=(B[1],Object(c.useState)(!1)),A=Object(u.a)(M,2),k=(A[0],A[1],Object(c.useState)(!1)),H=Object(u.a)(k,2),P=H[0],I=H[1],R=Object(c.useState)(null),U=Object(u.a)(R,2),L=U[0],E=U[1],V=Object(c.useRef)(null),z=function(){var e=function(){var e=new Date,t=e.getTimezoneOffset();return e.setHours(e.getHours()+t/60),e}();return e.setHours(e.getHours()+a/60),e},W=function(e){return String(+e).charAt(0)==e&&(e="0"+e),e},q=function(){var e=z();!function(e){var t=e.getSeconds()/60,n=(t+e.getMinutes())/60,c=(n+e.getHours())/12;v(Object(h.a)(Object(h.a)({},x),{},{secondRate:t,minuteRate:n,hourRate:c}))}(e),function(e){var t=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"][Number(e.getDay())],n=e.getHours(),c=e.getMinutes(),a=n>=12?"PM":"AM",o=t+" "+(n=(n%=12)||12)+":"+(c=c<10?"0"+c:c)+" "+a;w((function(e){return o}))}(e)},Y=function(e){var t=Number(e.split("-")[0].slice(0,2))+s,n=Number(e.split("-")[1].slice(0,2))+s;return n>24&&(n%=24),W(t),W(n),{hoursFrom:t,hoursTo:n}},J=function(e){(new Date).getHours();var t=new Date,n="".concat(z().toDateString()," ").concat(z().getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds()),c=Date.parse(e)-Date.parse(n),a=Math.floor(c/1e3%60),o=Math.floor(c/1e3/60%60),r=Math.floor(c/36e5%24);return[Math.floor(c/864e5),W(r),W(o),W(a)]},G=function(e){return!("undefined"===e||!e||0===e.length)};return Object(c.useEffect)((function(){var e=setInterval((function(){q(),C(Date.now())}),1e3);return function(){clearInterval(e)}}),[_]),Object(p.jsxs)("div",{className:"mainContainer",children:[Object(p.jsxs)("div",{className:"top",children:[Object(p.jsx)("div",{className:"mainFont",children:n}),Object(p.jsx)("div",{className:"secondaryFont",children:t.toUpperCase()}),Object(p.jsx)("div",{className:"mainFont",children:D})]}),Object(p.jsx)("div",{className:"middle",children:Object(p.jsxs)("div",{className:"clock",children:[Object(p.jsx)("div",{className:"hand hour",style:{transform:"translate(-50%) rotate(".concat(360*x.hourRate,"deg)")}}),Object(p.jsx)("div",{className:"hand minute",style:{transform:"translate(-50%) rotate(".concat(360*x.minuteRate,"deg)")}}),Object(p.jsx)("div",{className:"hand second",style:{transform:"translate(-50%) rotate(".concat(360*x.secondRate,"deg)")}}),Object(p.jsx)("div",{className:"number number1",children:Object(p.jsx)("div",{children:"1"})}),Object(p.jsx)("div",{className:"number number2",children:Object(p.jsx)("div",{children:"2"})}),Object(p.jsx)("div",{className:"number number3",children:Object(p.jsx)("div",{children:"3"})}),Object(p.jsx)("div",{className:"number number4",children:Object(p.jsx)("div",{children:"4"})}),Object(p.jsx)("div",{className:"number number5",children:Object(p.jsx)("div",{children:"5"})}),Object(p.jsx)("div",{className:"number number6",children:Object(p.jsx)("div",{children:"6"})}),Object(p.jsx)("div",{className:"number number7",children:Object(p.jsx)("div",{children:"7"})}),Object(p.jsx)("div",{className:"number number8",children:Object(p.jsx)("div",{children:"8"})}),Object(p.jsx)("div",{className:"number number9",children:Object(p.jsx)("div",{children:"9"})}),Object(p.jsx)("div",{className:"number number10",children:Object(p.jsx)("div",{children:"10"})}),Object(p.jsx)("div",{className:"number number11",children:Object(p.jsx)("div",{children:"11"})}),Object(p.jsx)("div",{className:"number number12",children:Object(p.jsx)("div",{children:"12"})})]})}),Object(p.jsxs)("div",{className:"bottom",children:[Object(p.jsx)("div",{children:function(){var e,t,n,c,a=z(),i=function(e){var t=new Date(e),n=""+(t.getMonth()+1),c=""+t.getDate(),a=t.getFullYear();return n.length<2&&(n="0"+n),c.length<2&&(c="0"+c),[a,n,c].join("-")}(a),s=o.split("-")[0],u=o.split("-")[1];G(r)&&(e=r.split("-")[0],t=r.split("-")[1],n=new Date("".concat(i," ").concat(e)),c=new Date("".concat(i," ").concat(t)));var b=new Date("".concat(i," ").concat(s)),h=new Date("".concat(i," ").concat(u)),O="";return 6==a.getDay()||0==a.getDay()?O=Object(p.jsx)("div",{className:"oval red",children:"Closed"}):G(r)?a<h&&a>b?(O=Object(p.jsx)("div",{className:"oval green",children:"Open"}),j=!0):a>h&&a<n?(j=!1,l=!0,O=Object(p.jsx)("div",{className:"oval yellow",children:"Break"})):a>n&&a<c?(l=!1,d=!0,O=Object(p.jsx)("div",{className:"oval green",children:"Open"})):O=Object(p.jsx)("div",{className:"oval red",children:"Closed"}):a<h&&a>b?(O=Object(p.jsx)("div",{className:"oval green",children:"Open"}),j=!0):O=Object(p.jsx)("div",{className:"oval red",children:"Closed"}),O}()}),Object(p.jsx)("div",{className:"addInfo",children:Object(p.jsx)("div",{children:j||d?"".concat(function(){var e="",t=(new Date).getUTCMonth(),n=(new Date).getUTCDate(),c=(new Date).getUTCFullYear();if(G(r)){if(d){var a="".concat(r.split("-")[1].slice(0,2));e=new Date(c,t,n,a.slice(0,2),0,0,0);var i=J(e),s=Object(u.a)(i,4),l=(s[0],s[1]),j=s[2],b=s[3];return"".concat(l,":").concat(j,":").concat(b)}e=new Date(c,t,n,o.split("-")[1].slice(0,2),o.split("-")[1].slice(3,5),0);var h=J(e),O=Object(u.a)(h,4),m=(O[0],O[1]),p=O[2],f=O[3];return"".concat(m,":").concat(p,":").concat(f)}e=new Date(c,t,n,o.split("-")[1].slice(0,2),o.split("-")[1].slice(3,5),0);var x=J(e),v=Object(u.a)(x,4),g=(v[0],v[1]),N=v[2],_=v[3];return"".concat(g,":").concat(N,":").concat(_)}()," until close"):l?"".concat(function(){var e=z(),t=Y(r).hoursFrom,n=e.getUTCMonth()+1,c=e.getUTCDate(),a=e.getUTCFullYear(),o=new Date(a,n,c,t,0,0,0)-e,i=Math.floor(o/1e3%60),s=Math.floor(o/1e3/60%60),l=Math.floor(o/36e5%24);return"".concat(W(l),":").concat(W(s),":").concat(W(i))}()," until re-open"):"".concat(function(){var e=new Date,t=e.getUTCMonth(),n=e.getUTCDate(),c=e.getUTCFullYear(),a="".concat(o.split("-")[0]);Math.floor(e/1e3%60),Math.floor(e/1e3/60%60),Math.floor(e/36e5%24),Math.floor(e/864e5);if(e=new Date(c,t,n,a.slice(0,2),0,0,0),F){e.setDate(e.getDate()+3)}else if(6==e.getDay()){e.setDate(e.getDate()+2)}else if(0==e.getDay()){e.setDate(e.getDate()+1)}else e.setDate(e.getDate());e="".concat(e.toDateString()," ").concat(Number(o.split("-")[0].slice(0,2))).concat(o.split("-")[0].slice(2,5),":00");var r=J(e),i=Object(u.a)(r,4),s=i[0],l=i[1],j=i[2],d=i[3];if(-1===s){var b=new Date,h=b.getUTCDate()+1;b=new Date(c,t,h,a.slice(0,2),0,0,0),b="".concat(b.toDateString()," ").concat(Number(o.split("-")[0].slice(0,2))).concat(o.split("-")[0].slice(2,5),":00");var O=J(b),m=Object(u.a)(O,4),p=m[0],f=m[1],x=m[2],v=m[3];return"".concat(p,"d ").concat(f,":").concat(x,":").concat(v)}return"".concat(s,"d ").concat(l,":").concat(j,":").concat(d)}()," until open")})}),Object(p.jsxs)("div",{ref:V,children:[Object(p.jsx)("div",{className:"oval2",onClick:function(e){I(!P),E(e.target)},children:"Show Open/Close Hours"}),Object(p.jsx)(O.a,{show:P,target:L,placement:"top",containerPadding:20,children:Object(p.jsx)(m.a,{id:"popover-contained",children:Object(p.jsx)(m.a.Content,{children:Object(p.jsxs)("div",{class:"contentBox",children:[Object(p.jsxs)("div",{class:"shedule",children:[Object(p.jsxs)("div",{children:[n.toUpperCase()," TIME"]}),Object(p.jsx)("div",{children:o}),"undefined"!=typeof r&&Object(p.jsx)("div",{children:r})]}),Object(p.jsxs)("div",{class:"shedule",children:[Object(p.jsx)("div",{children:"LOCAL TIME"}),Object(p.jsx)("div",{children:"".concat(W(Y(o).hoursFrom),":").concat(o.split("-")[0].slice(3,5)," - ").concat(W(Y(o).hoursTo),":").concat(o.split("-")[1].slice(3,5))}),G(r)?Object(p.jsx)("div",{children:"".concat(W(Y(r).hoursFrom),":").concat(r.split("-")[0].slice(3,5)," - ").concat(W(Y(r).hoursTo),":").concat(r.split("-")[1].slice(3,5))}):null]})]})})})})]})]})]})},x=function(e){var t=e.continentName,n=e.data,a=Object(c.useState)(!0),o=Object(u.a)(a,2),r=o[0],i=o[1],s=Object(c.useState)(!1),l=Object(u.a)(s,2),j=l[0],h=(l[1],function(){i((function(e){return!e}))}),O=function(e,t){return Object(p.jsx)("div",{className:d.clockBoxes,children:t.map((function(e){return Object(p.jsx)(f,{regionName:e.country,cityName:e.city,utcoffset:e.utcoffset,openHoursOne:e.openHoursOne,openHoursTwo:e.openHoursTwo},e.id)}))})};return Object(p.jsxs)("div",{className:d.regionBox,children:[Object(p.jsxs)("div",{className:d.greyStripe,children:[Object(p.jsx)("div",{className:d.left,children:t}),Object(p.jsxs)("div",{className:d.right,children:[j&&Object(p.jsx)("div",{children:"Loading..."}),r?Object(p.jsx)(b.a,{onClick:h}):Object(p.jsx)(b.b,{onClick:h})]})]}),r&&function(e){var t=[],c=[],a=[],o=[];switch(n.forEach((function(e){"Europe"===e.continent?t.push(e):"Asia"===e.continent?c.push(e):"South America"==e.continent?a.push(e):"North America"==e.continent&&o.push(e)})),e){case"Asia":return O(0,c);case"Europe":return O(0,t);case"South America":return O(0,a);case"North America":return O(0,o);default:return 0}}(t)]})},v=n(18),g=n(35),N=function(e){var t=e.continent;return Object(p.jsx)("div",{className:g.ddWrapper,children:Object(p.jsx)(v.a,{children:Object(p.jsxs)(v.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(p.jsx)(v.a.Label,{children:"Select Continent"}),Object(p.jsxs)(v.a.Control,{as:"select",onChange:function(e){return function(e){t(e.target.value)}(e)},children:[Object(p.jsx)("option",{children:"Choose Option"}),Object(p.jsx)("option",{children:"Asia"}),Object(p.jsx)("option",{children:"Europe"}),Object(p.jsx)("option",{children:"North America"}),Object(p.jsx)("option",{children:"South America"})]})]})})})},_=n(28),C=function(e){var t=e.geo,n=Object(c.useState)(""),a=Object(u.a)(n,2),o=a[0],r=a[1],i=Object(c.useState)(""),s=Object(u.a)(i,2),l=s[0],j=s[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(_.a,{value:o,onChange:function(e){return function(e){r((function(t){return e}))}(e)},style:{color:"grey",fontSize:"17px",height:"40px"},children:o}),Object(p.jsx)(_.b,{country:o,value:l,onChange:function(e){return function(e){j((function(t){return e})),t([o,e])}(e)},style:{color:"grey",fontSize:"17px",height:"40px",boxShadow:"grey"},blankOptionLabel:"No country selected",defaultOptionLabel:"Now select a region",children:l})]})},S=n(13),y=n(88),D=function(e){var t=e.timeSlotOne,n=e.timeSlotTwo,a=Object(c.useState)("00:00"),o=Object(u.a)(a,2),r=o[0],i=o[1],s=Object(c.useState)("00:00"),l=Object(u.a)(s,2),j=l[0],d=l[1],b=Object(c.useState)("00:00"),h=Object(u.a)(b,2),O=h[0],m=h[1],f=Object(c.useState)("00:00"),x=Object(u.a)(f,2),v=x[0],g=x[1];return Object(p.jsxs)("form",{className:S.container,noValidate:!0,children:[Object(p.jsx)(y.a,{className:S.textField,id:"time",label:"From",type:"time",defaultValue:"07:30",value:r,onChange:function(e){return function(e){i((function(t){return e.target.value}))}(e)},InputLabelProps:{shrink:!0},inputProps:{step:300}}),Object(p.jsx)(y.a,{className:S.textField,id:"time",label:"To",type:"time",defaultValue:"07:30",value:j,onChange:function(e){return function(e){d((function(t){return e.target.value})),t([r,e.target.value])}(e)},InputLabelProps:{shrink:!0},inputProps:{step:300}}),Object(p.jsx)("div",{className:S.divider,children:" Input Second TimeSlot "}),Object(p.jsx)(y.a,{className:S.textField,id:"time",label:"From",type:"time",defaultValue:"07:30",value:O,onChange:function(e){return function(e){m((function(t){return e.target.value}))}(e)},InputLabelProps:{shrink:!0},inputProps:{step:300}}),Object(p.jsx)(y.a,{className:S.textField,id:"time",label:"To",type:"time",defaultValue:"07:30",value:v,onChange:function(e){return function(e){g((function(t){return e.target.value})),n([O,e.target.value])}(e)},InputLabelProps:{shrink:!0},inputProps:{step:300}})]})},w=n(11),T=function(){var e=Object(c.useState)({continent:"",country:"",city:"",utcoffset:""}),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)({from:"",to:""}),r=Object(u.a)(o,2),i=r[0],j=r[1],d=Object(c.useState)({from:"",to:""}),b=Object(u.a)(d,2),O=b[0],m=b[1],f=function(){var e=Object(l.a)(s.a.mark((function e(t){var c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={id:"".concat(Math.floor(1000001*Math.random())),continent:n.continent,country:n.country,city:n.city,utcoffset:"".concat(60*n.utcoffset),openHoursOne:"".concat(i.from,"-").concat(i.to),openHoursTwo:"".concat(O.from,"-").concat(O.to)},{id:"56100",continent:"Europe",country:"Ukraine",city:"",utcoffset:"+180",openHoursOne:"15:00-17:00",openHoursTwo:""},e.next=4,fetch(t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 4:return a=e.sent,e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:w.mainContainer,children:Object(p.jsxs)("div",{className:w.contentBox,children:[Object(p.jsx)(N,{continent:function(e){return a(Object(h.a)(Object(h.a)({},n),{},{continent:e}))}}),Object(p.jsxs)("div",{className:w.input,children:[Object(p.jsx)("div",{className:w.input,children:"Choose country and region"}),Object(p.jsx)(C,{geo:function(e){return a(Object(h.a)(Object(h.a)({},n),{},{country:e[0],city:e[1]}))}})]}),Object(p.jsxs)("div",{className:w.input,children:[Object(p.jsx)("div",{className:w.input,children:"If there is more than one slot, input one more time slot of opening hours"}),Object(p.jsx)(D,{timeSlotOne:function(e){return j(Object(h.a)(Object(h.a)({},i),{},{from:e[0],to:e[1]}))},timeSlotTwo:function(e){return m(Object(h.a)(Object(h.a)({},O),{},{from:e[0],to:e[1]}))}})]}),Object(p.jsxs)("div",{className:w.input,children:[Object(p.jsx)("div",{children:"Enter UTC offcet (consider inputing with (+/-) value)"}),Object(p.jsx)("input",{type:"text",placeholder:"UTC offset",onChange:function(e){return a(Object(h.a)(Object(h.a)({},n),{},{utcoffset:e.target.value}))}})]}),Object(p.jsx)("div",{className:w.submitBox,children:Object(p.jsx)("button",{className:w.submitBtn,onClick:function(){f("https://rsqwsiljhg.execute-api.us-east-1.amazonaws.com/dev/postClocksRecord").then((function(e){return console.log(e)}))},children:"Submit"})})]})})},B=n(29),F=function(){return Object(p.jsx)("div",{className:B.Footer,children:Object(p.jsx)("div",{className:B.copyright,children:"\xa9 Copyright Ironfly Technologies Limited 2021"})})},M=n(37),A=n.n(M),k=function(){var e=[],t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)([]),i=Object(u.a)(r,2),d=i[0],b=i[1],h=Object(c.useState)(!1),O=Object(u.a)(h,2),m=O[0],f=O[1],v=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((function(e){return!0})),e.next=3,fetch(t);case 3:return n=e.sent,e.prev=4,e.next=7,n.json();case 7:c=e.sent,f((function(e){return!1})),b((function(e){return c.data.Items})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Error happened here!"),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();for(var g in d)e.push(d[g].continent);var N=e.filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return Object(p.jsx)(x,{continentName:e,data:d},e.id)}));return Object(c.useEffect)((function(){v("https://rsqwsiljhg.execute-api.us-east-1.amazonaws.com/dev/clocksfunction")}),[]),Object(p.jsxs)("div",{className:j.App,children:[Object(p.jsx)("div",{className:j.titleBox,children:Object(p.jsx)("div",{className:j.title,children:"The Markets Open"})}),Object(p.jsxs)("div",{className:j.mainContentBox,children:[m?Object(p.jsx)("div",{className:j.loader,children:Object(p.jsx)(A.a,{color:"rgb(70, 190, 112)"})}):N,Object(p.jsx)("div",{className:j.buttonContainer,children:Object(p.jsx)("button",{onClick:function(){o((function(e){return!e}))},children:"Admin Panel"})}),a&&Object(p.jsx)(T,{})]}),Object(p.jsx)(F,{})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root")),H()}},[[56,1,2]]]);
//# sourceMappingURL=main.bafe37dc.chunk.js.map